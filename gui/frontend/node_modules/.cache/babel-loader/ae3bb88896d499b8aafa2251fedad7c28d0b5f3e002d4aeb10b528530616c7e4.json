{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Row,Col,Card,Statistic,Button,List,Avatar,Space,Typography,Tag,message,Modal,Select,Tooltip,Progress,Alert}from'antd';import{FolderOpenOutlined,FireOutlined,CheckCircleOutlined,PauseCircleOutlined,GlobalOutlined,SettingOutlined,MobileOutlined,DownOutlined,UpOutlined,BuildOutlined,CloudUploadOutlined,ReloadOutlined,PlusOutlined,LoadingOutlined}from'@ant-design/icons';import{useProjects,useOSSConfig}from'../api';import{gitApi}from'../api/client';import'./Projects.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const{Option}=Select;const Projects=()=>{var _ossConfig$buckets,_ossConfig$buckets2,_ossConfig$buckets3,_ossConfig$buckets4;const{projects,isLoading,loadProjects,scanProjects}=useProjects();const{ossConfig,channels,isLoading:ossLoading,loadOSSConfig}=useOSSConfig();const[recentProjects,setRecentProjects]=useState([]);const[selectedProject,setSelectedProject]=useState('');const[buildModalVisible,setBuildModalVisible]=useState(false);const[uploadModalVisible,setUploadModalVisible]=useState(false);const[simpleUploadModalVisible,setSimpleUploadModalVisible]=useState(false);const[gitModalVisible,setGitModalVisible]=useState(false);const[progressModalVisible,setProgressModalVisible]=useState(false);const[progressTitle,setProgressTitle]=useState('');const[progressPercent,setProgressPercent]=useState(0);const[progressText,setProgressText]=useState('');const[progressLogs,setProgressLogs]=useState([]);const[fileUploadStatus,setFileUploadStatus]=useState(new Map());const[currentOperation,setCurrentOperation]=useState(null);const[selectedChannel,setSelectedChannel]=useState('');const[selectedEnv,setSelectedEnv]=useState('dev');// ç§»é™¤uploadAsZipçŠ¶æ€ï¼Œç›´æ¥ä½¿ç”¨å‹ç¼©ä¸Šä¼ ä½œä¸ºé»˜è®¤è¡Œä¸º\n// æ—¥å¿—åŒºåŸŸè‡ªåŠ¨æ»šåŠ¨\nconst logsRef=useRef(null);useEffect(()=>{if(logsRef.current){logsRef.current.scrollTop=logsRef.current.scrollHeight;}},[progressLogs,fileUploadStatus]);// é¡¹ç›®ç»Ÿè®¡æ•°æ®\nconst projectStats={total:26,active:12,completed:8,paused:6};// é¡¹ç›®åˆ†ç±»æ•°æ®\nconst projectCategories=[{type:'frontend',name:'å‰ç«¯é¡¹ç›®',count:15,icon:/*#__PURE__*/_jsx(GlobalOutlined,{}),color:'#1890ff'},{type:'backend',name:'åç«¯é¡¹ç›®',count:8,icon:/*#__PURE__*/_jsx(SettingOutlined,{}),color:'#52c41a'},{type:'mobile',name:'ç§»åŠ¨ç«¯',count:3,icon:/*#__PURE__*/_jsx(MobileOutlined,{}),color:'#fa8c16'}];useEffect(()=>{loadProjects();},[loadProjects]);useEffect(()=>{if(projects&&projects.length>0){// æŒ‰æœ€åæäº¤æ—¶é—´æ’åºï¼Œå–æœ€è¿‘6ä¸ª\nconst sorted=[...projects].sort((a,b)=>new Date(b.lastCommitTime||0).getTime()-new Date(a.lastCommitTime||0).getTime());setRecentProjects(sorted.slice(0,6));}},[projects]);// æ ¼å¼åŒ–ç›¸å¯¹æ—¶é—´\nconst formatRelativeTime=dateString=>{if(!dateString)return'æœªçŸ¥';const date=new Date(dateString);const now=new Date();const diffMs=now.getTime()-date.getTime();const diffHours=Math.floor(diffMs/(1000*60*60));const diffDays=Math.floor(diffHours/24);if(diffHours<1)return'åˆšåˆš';if(diffHours<24)return\"\".concat(diffHours,\"\\u5C0F\\u65F6\\u524D\");if(diffDays<7)return\"\".concat(diffDays,\"\\u5929\\u524D\");return date.toLocaleDateString('zh-CN');};// æ£€æŸ¥APIå“åº”æ˜¯å¦æˆåŠŸ\nconst isResponseSuccess=response=>{return response.ok===true||response.success===true;};// å¤„ç†é¡¹ç›®æ“ä½œ\nconst handleGitPull=async projectName=>{const project=projects.find(p=>p.name===projectName);if(!project){message.error('é¡¹ç›®æœªæ‰¾åˆ°');return;}setCurrentOperation('git-pull');setProgressTitle(\"\\u62C9\\u53D6\\u9879\\u76EE: \".concat(projectName));setProgressPercent(0);setProgressText('æ­£åœ¨æ‹‰å–...');setProgressLogs([]);setProgressModalVisible(true);try{const response=await gitApi.pull(project.path);if(isResponseSuccess(response)){setProgressPercent(100);setProgressText('âœ… æ‹‰å–æˆåŠŸ');message.success(\"\\u2705 \\u62C9\\u53D6\\u6210\\u529F: \".concat(projectName));// é‡æ–°åŠ è½½é¡¹ç›®åˆ—è¡¨ä»¥æ›´æ–°çŠ¶æ€\nawait loadProjects();}else{throw new Error(response.error||'æ‹‰å–å¤±è´¥');}}catch(error){setProgressText('âŒ æ‹‰å–å¤±è´¥');message.error(\"\\u274C \\u62C9\\u53D6\\u5931\\u8D25: \".concat(error.message));}finally{setTimeout(()=>setProgressModalVisible(false),2000);}};const handleGitPush=async projectName=>{const project=projects.find(p=>p.name===projectName);if(!project){message.error('é¡¹ç›®æœªæ‰¾åˆ°');return;}setCurrentOperation('git-push');setProgressTitle(\"\\u63A8\\u9001\\u9879\\u76EE: \".concat(projectName));setProgressPercent(0);setProgressText('æ­£åœ¨æ¨é€...');setProgressLogs([]);setProgressModalVisible(true);try{const response=await gitApi.push(project.path);if(isResponseSuccess(response)){setProgressPercent(100);setProgressText('âœ… æ¨é€æˆåŠŸ');message.success(\"\\u2705 \\u63A8\\u9001\\u6210\\u529F: \".concat(projectName));// é‡æ–°åŠ è½½é¡¹ç›®åˆ—è¡¨ä»¥æ›´æ–°çŠ¶æ€\nawait loadProjects();}else{throw new Error(response.error||'æ¨é€å¤±è´¥');}}catch(error){setProgressText('âŒ æ¨é€å¤±è´¥');message.error(\"\\u274C \\u63A8\\u9001\\u5931\\u8D25: \".concat(error.message));}finally{setTimeout(()=>setProgressModalVisible(false),2000);}};const handleBuild=async projectName=>{setSelectedProject(projectName);// åŠ è½½OSSé…ç½®ä»¥è·å–æ¸ é“ä¿¡æ¯\nawait loadOSSConfig(projectName);setBuildModalVisible(true);};const executeBuild=async channel=>{setBuildModalVisible(false);setCurrentOperation('build');setProgressTitle(\"\\u6784\\u5EFA\\u9879\\u76EE: \".concat(selectedProject,\" (\").concat(channel,\")\"));setProgressPercent(0);setProgressText('å‡†å¤‡æ„å»º...');setProgressLogs([]);setFileUploadStatus(new Map());// æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\nsetProgressModalVisible(true);try{var _response$body;const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/build-stream\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,channel})});if(!response.ok){throw new Error(\"HTTP \".concat(response.status));}const reader=(_response$body=response.body)===null||_response$body===void 0?void 0:_response$body.getReader();if(!reader){throw new Error('æ— æ³•è·å–å“åº”æµ');}const decoder=new TextDecoder();let buffer='';while(true){const{done,value}=await reader.read();if(done)break;buffer+=decoder.decode(value,{stream:true});const lines=buffer.split('\\n\\n');buffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='log'||data.type==='stdout'){setProgressText(data.message);// æ„å»ºè¿‡ç¨‹ä¸­ä¸æ˜¾ç¤ºè¿›åº¦æ¡è¿›åº¦\n}else if(data.type==='stderr'){setProgressText(\"\\u26A0\\uFE0F \".concat(data.message));}else if(data.type==='success'){setProgressPercent(100);setProgressText('âœ… æ„å»ºæˆåŠŸ');message.success(\"\\u2705 \\u6784\\u5EFA\\u6210\\u529F: \".concat(selectedProject));setTimeout(()=>setProgressModalVisible(false),2000);}else if(data.type==='error'){setProgressText('âŒ æ„å»ºå¤±è´¥');message.error(\"\\u274C \\u6784\\u5EFA\\u5931\\u8D25: \".concat(data.message));setTimeout(()=>setProgressModalVisible(false),3000);}}catch(e){console.error('è§£æSSEæ•°æ®å¤±è´¥:',e);}}}}}catch(error){setProgressText('âŒ æ„å»ºå¤±è´¥');message.error(\"\\u274C \\u6784\\u5EFA\\u5931\\u8D25: \".concat(error.message));setTimeout(()=>setProgressModalVisible(false),3000);}};const handleUpload=async projectName=>{setSelectedProject(projectName);// åŠ è½½OSSé…ç½®\nawait loadOSSConfig(projectName);// ç­‰å¾…ä¸€å°æ®µæ—¶é—´ç¡®ä¿çŠ¶æ€æ›´æ–°\nawait new Promise(resolve=>setTimeout(resolve,100));// æ£€æŸ¥æ˜¯å¦æœ‰æ¸ é“é…ç½®\nif(channels&&channels.channels&&Object.keys(channels.channels).length>0){// æœ‰æ¸ é“é…ç½®ï¼Œæ˜¾ç¤ºæ¸ é“é€‰æ‹©æ¨¡æ€æ¡†\nsetUploadModalVisible(true);}else{// æ²¡æœ‰æ¸ é“é…ç½®ï¼Œæ˜¾ç¤ºç®€å•ç¯å¢ƒé€‰æ‹©æ¨¡æ€æ¡†\nsetSimpleUploadModalVisible(true);}};const executeSimpleUpload=async env=>{const project=projects.find(p=>p.name===selectedProject);if(!project){message.error('é¡¹ç›®æœªæ‰¾åˆ°');return;}setSimpleUploadModalVisible(false);setCurrentOperation('upload');setProgressTitle(\"\\u6784\\u5EFA\\u5E76\\u4E0A\\u4F20: \".concat(selectedProject,\" (\").concat(env==='dev'?'å¼€å‘':'ç”Ÿäº§',\"\\u73AF\\u5883)\"));setProgressPercent(0);setProgressText('å‡†å¤‡æ„å»º...');setProgressLogs([]);setProgressModalVisible(true);try{var _buildResponse$body,_normalResponse$body;// ç¬¬ä¸€æ­¥ï¼šæ„å»ºé¡¹ç›®\nsetProgressText('æ­£åœ¨æ„å»ºé¡¹ç›®...');const buildResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/build-stream\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject})});if(!buildResponse.ok){throw new Error(\"\\u6784\\u5EFA\\u8BF7\\u6C42\\u5931\\u8D25: HTTP \".concat(buildResponse.status));}const buildReader=(_buildResponse$body=buildResponse.body)===null||_buildResponse$body===void 0?void 0:_buildResponse$body.getReader();if(!buildReader){throw new Error('æ— æ³•è·å–æ„å»ºå“åº”æµ');}const decoder=new TextDecoder();let buildBuffer='';let buildSuccess=false;while(true){const{done,value}=await buildReader.read();if(done)break;buildBuffer+=decoder.decode(value,{stream:true});const lines=buildBuffer.split('\\n\\n');buildBuffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='success'){buildSuccess=true;setProgressText('æ„å»ºå®Œæˆï¼Œå¼€å§‹ä¸Šä¼ ...');}else if(data.type==='error'){throw new Error(\"\\u6784\\u5EFA\\u5931\\u8D25: \".concat(data.message));}}catch(e){console.error('è§£ææ„å»ºSSEæ•°æ®å¤±è´¥:',e);}}}}if(!buildSuccess){throw new Error('æ„å»ºæœªå®Œæˆ');}// ç¬¬äºŒæ­¥ï¼šä¸Šä¼ åˆ°OSS\nsetProgressPercent(0);// é‡ç½®è¿›åº¦ä¸º0ï¼Œå¼€å§‹ä¸Šä¼ \nsetFileUploadStatus(new Map());// æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\n// æ‰€æœ‰ç¯å¢ƒéƒ½å…ˆæ‰§è¡Œæ­£å¸¸çš„é€ä¸ªæ–‡ä»¶ä¸Šä¼ \nconst normalUploadApi='upload-stream';const normalResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/\").concat(normalUploadApi),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,path:project.path,channelId:'default',// ä½¿ç”¨é»˜è®¤æ¸ é“ID\nenv})});if(!normalResponse.ok){throw new Error(\"HTTP \".concat(normalResponse.status));}const normalReader=(_normalResponse$body=normalResponse.body)===null||_normalResponse$body===void 0?void 0:_normalResponse$body.getReader();if(!normalReader){throw new Error('æ— æ³•è·å–ä¸Šä¼ å“åº”æµ');}let normalBuffer='';while(true){const{done,value}=await normalReader.read();if(done)break;normalBuffer+=decoder.decode(value,{stream:true});const lines=normalBuffer.split('\\n\\n');normalBuffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='start'){setProgressText(data.message);}else if(data.type==='uploading'){setProgressText(\"\\u6B63\\u5728\\u4E0A\\u4F20\\u6587\\u4EF6...\");setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploading',message:'æ­£åœ¨ä¸Šä¼ ...'})));setProgressPercent(data.globalProgress||data.progress||0);// ä½¿ç”¨å…¨å±€è¿›åº¦\n}else if(data.type==='uploaded'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploaded',message:'âœ… ä¸Šä¼ æˆåŠŸ'})));setProgressPercent(data.globalProgress||data.progress||0);}else if(data.type==='failed'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'failed',message:\"\\u274C \\u4E0A\\u4F20\\u5931\\u8D25: \".concat(data.error)})));setProgressPercent(data.globalProgress||data.progress||0);}else if(data.type==='complete'){setProgressPercent(100);// æ­£å¸¸ä¸Šä¼ å®Œæˆï¼Œè®¾ä¸º100%\nsetProgressText('âœ… æ­£å¸¸ä¸Šä¼ å®Œæˆï¼Œå¼€å§‹ç‰ˆæœ¬å¤‡ä»½...');}else if(data.type==='error'){setProgressText('âŒ ä¸Šä¼ å¤±è´¥');message.error(\"\\u274C \\u4E0A\\u4F20\\u5931\\u8D25: \".concat(data.message));setTimeout(()=>setProgressModalVisible(false),3000);return;// ä¸Šä¼ å¤±è´¥ï¼Œç›´æ¥è¿”å›\n}}catch(e){console.error('è§£æSSEæ•°æ®å¤±è´¥:',e);}}}}// ç¬¬ä¸‰æ­¥ï¼šç”Ÿäº§ç¯å¢ƒé¢å¤–æ‰§è¡Œå‹ç¼©åŒ…å¤‡ä»½\nif(env==='prod'){var _backupResponse$body;setProgressPercent(0);// ä»0%é‡æ–°å¼€å§‹å¤‡ä»½è¿›åº¦\nsetFileUploadStatus(new Map());// æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\nconst backupUploadApi='upload-zip-stream';const backupResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/\").concat(backupUploadApi),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,path:project.path,channelId:'default',env,isBackup:true// æ ‡è®°ä¸ºå¤‡ä»½ä¸Šä¼ \n})});if(!backupResponse.ok){throw new Error(\"\\u5907\\u4EFD\\u4E0A\\u4F20\\u8BF7\\u6C42\\u5931\\u8D25: HTTP \".concat(backupResponse.status));}const backupReader=(_backupResponse$body=backupResponse.body)===null||_backupResponse$body===void 0?void 0:_backupResponse$body.getReader();if(!backupReader){throw new Error('æ— æ³•è·å–å¤‡ä»½ä¸Šä¼ å“åº”æµ');}let backupBuffer='';while(true){const{done,value}=await backupReader.read();if(done)break;backupBuffer+=decoder.decode(value,{stream:true});const lines=backupBuffer.split('\\n\\n');backupBuffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='start'){setProgressText(data.message);}else if(data.type==='compressing'){setProgressText(data.message);setProgressPercent(data.progress||0);// å‹ç¼©é˜¶æ®µ0-100%\n}else if(data.type==='compressed'){setProgressText(data.message);setProgressPercent(100);// å‹ç¼©å®Œæˆè®¾ä¸º100%\n}else if(data.type==='bucket_start'){setProgressText(\"\".concat(data.bucketIndex,\"/\").concat(data.totalBuckets,\": \").concat(data.message));setProgressPercent(0);// å¤‡ä»½ä¸Šä¼ ä»0%å¼€å§‹\n}else if(data.type==='uploading'){setProgressText(\"\\u6B63\\u5728\\u5907\\u4EFD\\u5230 \".concat(data.bucket,\"...\"));setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploading',message:'æ­£åœ¨å¤‡ä»½...'})));setProgressPercent(data.bucketProgress||data.progress);// å¤‡ä»½ä¸Šä¼ 0-100%\n}else if(data.type==='uploaded'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploaded',message:'âœ… å¤‡ä»½æˆåŠŸ'})));setProgressPercent(80+(data.bucketProgress||data.progress)*0.2);}else if(data.type==='failed'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'failed',message:\"\\u274C \\u5907\\u4EFD\\u5931\\u8D25: \".concat(data.error)})));setProgressPercent(80+(data.bucketProgress||data.progress)*0.2);}else if(data.type==='bucket_complete'){setProgressText(\"\".concat(data.bucket,\" \\u5907\\u4EFD\\u5B8C\\u6210 (\").concat(data.bucketIndex,\"/\").concat(data.totalBuckets,\")\"));}else if(data.type==='complete'){setProgressPercent(100);setProgressText('ğŸ‰ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæˆï¼æ­£åœ¨æ‰§è¡Œéƒ¨ç½²åä»»åŠ¡...');message.success(\"\\uD83C\\uDF89 \\u751F\\u4EA7\\u73AF\\u5883\\u90E8\\u7F72\\u5B8C\\u6210: \".concat(selectedProject));// ç”Ÿäº§ç¯å¢ƒå»¶è¿Ÿå…³é—­ï¼Œè®©ç”¨æˆ·çœ‹åˆ°éƒ¨ç½²ä»»åŠ¡çš„æ‰§è¡Œ\nsetTimeout(()=>setProgressModalVisible(false),5000);}else if(data.type==='error'){setProgressText('âŒ å¤‡ä»½å¤±è´¥');message.error(\"\\u274C \\u5907\\u4EFD\\u5931\\u8D25: \".concat(data.message));setTimeout(()=>setProgressModalVisible(false),3000);}}catch(e){console.error('è§£æå¤‡ä»½SSEæ•°æ®å¤±è´¥:',e);}}}}}else{// å¼€å‘ç¯å¢ƒç›´æ¥å®Œæˆ\nsetProgressPercent(100);setProgressText('âœ… ä¸Šä¼ æˆåŠŸ');message.success(\"\\u2705 \\u4E0A\\u4F20\\u6210\\u529F: \".concat(selectedProject));setTimeout(()=>setProgressModalVisible(false),2000);}}catch(error){setProgressText('âŒ æ“ä½œå¤±è´¥');message.error(\"\\u274C \\u64CD\\u4F5C\\u5931\\u8D25: \".concat(error.message));setTimeout(()=>setProgressModalVisible(false),3000);}};const executeUpload=async(channelId,env)=>{const project=projects.find(p=>p.name===selectedProject);if(!project){message.error('é¡¹ç›®æœªæ‰¾åˆ°');return;}setUploadModalVisible(false);setCurrentOperation('upload');setProgressTitle(\"\\u6784\\u5EFA\\u5E76\\u4E0A\\u4F20: \".concat(selectedProject,\" (\").concat(channelId,\" - \").concat(env==='dev'?'å¼€å‘':'ç”Ÿäº§',\")\"));setProgressPercent(0);setProgressText('å‡†å¤‡æ„å»º...');setProgressLogs([]);setFileUploadStatus(new Map());// æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\nsetProgressModalVisible(true);try{var _buildResponse$body2,_normalResponse$body2;// ç¬¬ä¸€æ­¥ï¼šæ„å»ºé¡¹ç›®\nsetProgressText('æ­£åœ¨æ„å»ºé¡¹ç›®...');const buildResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/build-stream\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,channel:channelId})});if(!buildResponse.ok){throw new Error(\"\\u6784\\u5EFA\\u8BF7\\u6C42\\u5931\\u8D25: HTTP \".concat(buildResponse.status));}const buildReader=(_buildResponse$body2=buildResponse.body)===null||_buildResponse$body2===void 0?void 0:_buildResponse$body2.getReader();if(!buildReader){throw new Error('æ— æ³•è·å–æ„å»ºå“åº”æµ');}const decoder=new TextDecoder();let buildBuffer='';let buildSuccess=false;while(true){const{done,value}=await buildReader.read();if(done)break;buildBuffer+=decoder.decode(value,{stream:true});const lines=buildBuffer.split('\\n\\n');buildBuffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='success'){buildSuccess=true;setProgressText('æ„å»ºå®Œæˆï¼Œå¼€å§‹ä¸Šä¼ ...');}else if(data.type==='error'){throw new Error(\"\\u6784\\u5EFA\\u5931\\u8D25: \".concat(data.message));}}catch(e){console.error('è§£ææ„å»ºSSEæ•°æ®å¤±è´¥:',e);}}}}if(!buildSuccess){throw new Error('æ„å»ºæœªå®Œæˆ');}// ç¬¬äºŒæ­¥ï¼šä¸Šä¼ åˆ°OSS\nsetProgressPercent(0);// é‡ç½®è¿›åº¦ä¸º0ï¼Œå¼€å§‹ä¸Šä¼ \nsetFileUploadStatus(new Map());// æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\n// æ‰€æœ‰ç¯å¢ƒéƒ½å…ˆæ‰§è¡Œæ­£å¸¸çš„é€ä¸ªæ–‡ä»¶ä¸Šä¼ \nconst normalUploadApi='upload-stream';const normalResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/\").concat(normalUploadApi),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,path:project.path,channelId,env})});if(!normalResponse.ok){throw new Error(\"HTTP \".concat(normalResponse.status));}const normalReader=(_normalResponse$body2=normalResponse.body)===null||_normalResponse$body2===void 0?void 0:_normalResponse$body2.getReader();if(!normalReader){throw new Error('æ— æ³•è·å–ä¸Šä¼ å“åº”æµ');}let normalBuffer='';while(true){const{done,value}=await normalReader.read();if(done)break;normalBuffer+=decoder.decode(value,{stream:true});const lines=normalBuffer.split('\\n\\n');normalBuffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='start'){setProgressText(data.message);}else if(data.type==='uploading'){setProgressText('æ­£åœ¨ä¸Šä¼ æ–‡ä»¶...');setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploading',message:'æ­£åœ¨ä¸Šä¼ ...'})));setProgressPercent(data.globalProgress||data.progress||0);// ä½¿ç”¨å…¨å±€è¿›åº¦\n}else if(data.type==='uploaded'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploaded',message:'âœ… ä¸Šä¼ æˆåŠŸ'})));setProgressPercent(data.globalProgress||data.progress||0);}else if(data.type==='failed'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'failed',message:\"\\u274C \\u4E0A\\u4F20\\u5931\\u8D25: \".concat(data.error)})));setProgressPercent(data.globalProgress||data.progress||0);}else if(data.type==='complete'){setProgressPercent(100);// æ­£å¸¸ä¸Šä¼ å®Œæˆï¼Œè®¾ä¸º100%\nsetProgressText('âœ… æ­£å¸¸ä¸Šä¼ å®Œæˆï¼Œå¼€å§‹ç‰ˆæœ¬å¤‡ä»½...');}else if(data.type==='error'){setProgressText('âŒ ä¸Šä¼ å¤±è´¥');message.error(\"\\u274C \\u4E0A\\u4F20\\u5931\\u8D25: \".concat(data.message));setTimeout(()=>setProgressModalVisible(false),3000);return;// ä¸Šä¼ å¤±è´¥ï¼Œç›´æ¥è¿”å›\n}}catch(e){console.error('è§£æSSEæ•°æ®å¤±è´¥:',e);}}}}// ç¬¬ä¸‰æ­¥ï¼šç”Ÿäº§ç¯å¢ƒé¢å¤–æ‰§è¡Œå‹ç¼©åŒ…å¤‡ä»½\nif(env==='prod'){var _backupResponse$body2;setProgressPercent(0);// ä»0%é‡æ–°å¼€å§‹å¤‡ä»½è¿›åº¦\nsetFileUploadStatus(new Map());// æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\nconst backupUploadApi='upload-zip-stream';const backupResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/\").concat(backupUploadApi),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,path:project.path,channelId,env,isBackup:true// æ ‡è®°ä¸ºå¤‡ä»½ä¸Šä¼ \n})});if(!backupResponse.ok){throw new Error(\"\\u5907\\u4EFD\\u4E0A\\u4F20\\u8BF7\\u6C42\\u5931\\u8D25: HTTP \".concat(backupResponse.status));}const backupReader=(_backupResponse$body2=backupResponse.body)===null||_backupResponse$body2===void 0?void 0:_backupResponse$body2.getReader();if(!backupReader){throw new Error('æ— æ³•è·å–å¤‡ä»½ä¸Šä¼ å“åº”æµ');}let backupBuffer='';while(true){const{done,value}=await backupReader.read();if(done)break;backupBuffer+=decoder.decode(value,{stream:true});const lines=backupBuffer.split('\\n\\n');backupBuffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='start'){setProgressText(data.message);}else if(data.type==='compressing'){setProgressText(data.message);setProgressPercent(data.progress||0);// å‹ç¼©é˜¶æ®µ0-100%\n}else if(data.type==='compressed'){setProgressText(data.message);setProgressPercent(100);// å‹ç¼©å®Œæˆè®¾ä¸º100%\n}else if(data.type==='bucket_start'){setProgressText(\"\".concat(data.bucketIndex,\"/\").concat(data.totalBuckets,\": \").concat(data.message));setProgressPercent(0);// å¤‡ä»½ä¸Šä¼ ä»0%å¼€å§‹\n}else if(data.type==='uploading'){setProgressText(\"\\u6B63\\u5728\\u5907\\u4EFD\\u5230 \".concat(data.bucket,\"...\"));setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploading',message:'æ­£åœ¨å¤‡ä»½...'})));setProgressPercent(data.bucketProgress||data.progress);// å¤‡ä»½ä¸Šä¼ 0-100%\n}else if(data.type==='uploaded'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploaded',message:'âœ… å¤‡ä»½æˆåŠŸ'})));setProgressPercent(data.bucketProgress||data.progress);}else if(data.type==='failed'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'failed',message:\"\\u274C \\u5907\\u4EFD\\u5931\\u8D25: \".concat(data.error)})));setProgressPercent(data.bucketProgress||data.progress);}else if(data.type==='bucket_complete'){setProgressText(\"\".concat(data.bucket,\" \\u5907\\u4EFD\\u5B8C\\u6210 (\").concat(data.bucketIndex,\"/\").concat(data.totalBuckets,\")\"));}else if(data.type==='complete'){setProgressPercent(100);setProgressText('ğŸ‰ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæˆï¼æ­£åœ¨æ‰§è¡Œéƒ¨ç½²åä»»åŠ¡...');message.success(\"\\uD83C\\uDF89 \\u751F\\u4EA7\\u73AF\\u5883\\u90E8\\u7F72\\u5B8C\\u6210: \".concat(selectedProject));// ç”Ÿäº§ç¯å¢ƒå»¶è¿Ÿå…³é—­ï¼Œè®©ç”¨æˆ·çœ‹åˆ°éƒ¨ç½²ä»»åŠ¡çš„æ‰§è¡Œ\nsetTimeout(()=>setProgressModalVisible(false),5000);}else if(data.type==='error'){setProgressText('âŒ å¤‡ä»½å¤±è´¥');message.error(\"\\u274C \\u5907\\u4EFD\\u5931\\u8D25: \".concat(data.message));setTimeout(()=>setProgressModalVisible(false),3000);}}catch(e){console.error('è§£æå¤‡ä»½SSEæ•°æ®å¤±è´¥:',e);}}}}}else{// å¼€å‘ç¯å¢ƒç›´æ¥å®Œæˆ\nsetProgressPercent(100);setProgressText('âœ… ä¸Šä¼ æˆåŠŸ');message.success(\"\\u2705 \\u4E0A\\u4F20\\u6210\\u529F: \".concat(selectedProject));setTimeout(()=>setProgressModalVisible(false),2000);}}catch(error){setProgressText('âŒ æ“ä½œå¤±è´¥');message.error(\"\\u274C \\u64CD\\u4F5C\\u5931\\u8D25: \".concat(error.message));setTimeout(()=>setProgressModalVisible(false),3000);}};const handleScanProjects=async()=>{await scanProjects();message.success('é¡¹ç›®æ‰«æå®Œæˆ');};return/*#__PURE__*/_jsxs(\"div\",{className:\"projects-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"projects-header\",children:[/*#__PURE__*/_jsx(Title,{level:1,children:\"\\uD83D\\uDCBC \\u9879\\u76EE\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(Text,{className:\"projects-subtitle\",children:\"\\u7BA1\\u7406\\u60A8\\u7684\\u5F00\\u53D1\\u9879\\u76EE\"}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(ReloadOutlined,{}),onClick:handleScanProjects,loading:isLoading,children:\"\\u626B\\u63CF\\u9879\\u76EE\"}),/*#__PURE__*/_jsx(Button,{type:\"default\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),children:\"\\u65B0\\u5EFA\\u9879\\u76EE\"})]})]}),/*#__PURE__*/_jsx(Card,{className:\"stats-section\",children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u9879\\u76EE\\u603B\\u6570\",value:projectStats.total,prefix:/*#__PURE__*/_jsx(FolderOpenOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u6D3B\\u8DC3\\u9879\\u76EE\",value:projectStats.active,prefix:/*#__PURE__*/_jsx(FireOutlined,{}),valueStyle:{color:'#fa8c16'}})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u5DF2\\u5B8C\\u6210\",value:projectStats.completed,prefix:/*#__PURE__*/_jsx(CheckCircleOutlined,{}),valueStyle:{color:'#52c41a'}})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u5DF2\\u6682\\u505C\",value:projectStats.paused,prefix:/*#__PURE__*/_jsx(PauseCircleOutlined,{}),valueStyle:{color:'#bfbfbf'}})})})]})}),/*#__PURE__*/_jsxs(Row,{gutter:[24,24],children:[/*#__PURE__*/_jsx(Col,{xs:24,lg:16,children:/*#__PURE__*/_jsxs(Card,{title:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(FireOutlined,{}),\"\\u6700\\u8FD1\\u9879\\u76EE\"]}),className:\"recent-projects-section\",children:[/*#__PURE__*/_jsx(List,{loading:isLoading,dataSource:recentProjects,renderItem:project=>/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Tooltip,{title:\"Git Pull\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(DownOutlined,{}),onClick:()=>handleGitPull(project.name)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Git Push\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(UpOutlined,{}),onClick:()=>handleGitPush(project.name)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u6784\\u5EFA\\u9879\\u76EE\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(BuildOutlined,{}),onClick:()=>handleBuild(project.name)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u4E0A\\u4F20\\u5230OSS\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(CloudUploadOutlined,{}),onClick:()=>handleUpload(project.name)})})],children:/*#__PURE__*/_jsx(List.Item.Meta,{avatar:/*#__PURE__*/_jsx(Avatar,{icon:/*#__PURE__*/_jsx(FolderOpenOutlined,{})}),title:/*#__PURE__*/_jsx(\"strong\",{children:project.name}),description:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"small\",children:[/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6700\\u540E\\u66F4\\u65B0: \",formatRelativeTime(project.lastCommitTime||'')]}),project.status&&/*#__PURE__*/_jsxs(Space,{size:\"small\",children:[project.status.modified>0&&/*#__PURE__*/_jsxs(Tag,{color:\"orange\",children:[\"\\uD83D\\uDCDD \",project.status.modified,\" \\u5DF2\\u4FEE\\u6539\"]}),project.status.added>0&&/*#__PURE__*/_jsxs(Tag,{color:\"green\",children:[\"\\u2795 \",project.status.added,\" \\u5DF2\\u6DFB\\u52A0\"]}),project.status.deleted>0&&/*#__PURE__*/_jsxs(Tag,{color:\"red\",children:[\"\\u2796 \",project.status.deleted,\" \\u5DF2\\u5220\\u9664\"]}),project.status.modified===0&&project.status.added===0&&project.status.deleted===0&&/*#__PURE__*/_jsx(Tag,{color:\"default\",children:\"\\u2705 \\u65E0\\u53D8\\u5316\"})]})]})})})}),recentProjects.length===0&&!isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u6682\\u65E0\\u9879\\u76EE\\u6570\\u636E\"})})]})}),/*#__PURE__*/_jsx(Col,{xs:24,lg:8,children:/*#__PURE__*/_jsx(Card,{title:\"\\uD83D\\uDCC2 \\u9879\\u76EE\\u5206\\u7C7B\",className:\"categories-section\",children:/*#__PURE__*/_jsx(List,{dataSource:projectCategories,renderItem:category=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsx(Card,{className:\"category-card\",style:{borderLeft:\"4px solid \".concat(category.color)},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Avatar,{icon:category.icon,style:{backgroundColor:category.color}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:category.name}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[category.count,\" \\u4E2A\\u9879\\u76EE\"]})]})]})})})})})})]}),/*#__PURE__*/_jsx(Modal,{title:\"\\u6784\\u5EFA\\u9879\\u76EE: \".concat(selectedProject),open:buildModalVisible,onCancel:()=>setBuildModalVisible(false),footer:null,width:600,children:ossLoading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:'24px'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:\"\\u6B63\\u5728\\u52A0\\u8F7D\\u6E20\\u9053\\u914D\\u7F6E...\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u9009\\u62E9\\u6784\\u5EFA\\u6E20\\u9053:\"})}),channels!==null&&channels!==void 0&&channels.channels&&Object.keys(channels.channels).length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'12px'},children:Object.entries(channels.channels).map(_ref=>{let[channelId,channelConfig]=_ref;return/*#__PURE__*/_jsx(Card,{hoverable:true,onClick:()=>executeBuild(channelId),style:{cursor:'pointer'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:channelConfig.name||channelId}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"\\u6E20\\u9053ID: \",channelId]})]}),/*#__PURE__*/_jsx(BuildOutlined,{style:{fontSize:'20px',color:'#1890ff'}})]})},channelId);})}):/*#__PURE__*/_jsx(Alert,{message:\"\\u672A\\u627E\\u5230\\u6E20\\u9053\\u914D\\u7F6E\",description:\"\\u8BF7\\u5148\\u914D\\u7F6E\\u9879\\u76EE\\u7684\\u6E20\\u9053\\u4FE1\\u606F\",type:\"warning\",showIcon:true})]})}),/*#__PURE__*/_jsx(Modal,{title:\"\\u4E0A\\u4F20\\u5230OSS: \".concat(selectedProject),open:uploadModalVisible,onCancel:()=>setUploadModalVisible(false),footer:null,width:600,children:ossLoading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:'24px'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:\"\\u6B63\\u5728\\u52A0\\u8F7DOSS\\u914D\\u7F6E...\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u9009\\u62E9\\u4E0A\\u4F20\\u6E20\\u9053\\u548C\\u73AF\\u5883:\"})}),channels!==null&&channels!==void 0&&channels.channels&&Object.keys(channels.channels).length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'12px'},children:Object.entries(channels.channels).map(_ref2=>{let[channelId,channelConfig]=_ref2;return/*#__PURE__*/_jsxs(Card,{style:{marginBottom:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'12px'},children:channelConfig.name||channelId}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{type:\"default\",icon:/*#__PURE__*/_jsx(CloudUploadOutlined,{}),onClick:()=>executeUpload(channelId,'dev'),style:{flex:1,background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none'},children:\"\\uD83D\\uDCE6 \\u5F00\\u53D1\\u73AF\\u5883\"}),/*#__PURE__*/_jsx(Button,{type:\"default\",icon:/*#__PURE__*/_jsx(CloudUploadOutlined,{}),onClick:()=>executeUpload(channelId,'prod'),style:{flex:1,background:'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',color:'white',border:'none'},children:\"\\uD83D\\uDE80 \\u751F\\u4EA7\\u73AF\\u5883\"})]})]},channelId);})}):/*#__PURE__*/_jsx(Alert,{message:\"\\u672A\\u627E\\u5230\\u6E20\\u9053\\u914D\\u7F6E\",description:\"\\u8BF7\\u5148\\u914D\\u7F6E\\u9879\\u76EE\\u7684\\u6E20\\u9053\\u4FE1\\u606F\",type:\"warning\",showIcon:true})]})}),/*#__PURE__*/_jsx(Modal,{title:\"\\u4E0A\\u4F20\\u5230OSS: \".concat(selectedProject),open:simpleUploadModalVisible,onCancel:()=>setSimpleUploadModalVisible(false),footer:null,width:500,children:ossLoading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:'24px'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:\"\\u6B63\\u5728\\u52A0\\u8F7DOSS\\u914D\\u7F6E...\"})]}):ossConfig?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u9009\\u62E9\\u4E0A\\u4F20\\u73AF\\u5883:\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',flexDirection:'column'},children:[((_ossConfig$buckets=ossConfig.buckets)===null||_ossConfig$buckets===void 0?void 0:_ossConfig$buckets.dev)&&/*#__PURE__*/_jsx(Card,{hoverable:true,onClick:()=>executeSimpleUpload('dev'),style:{cursor:'pointer'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:\"\\uD83D\\uDCE6 \\u5F00\\u53D1\\u73AF\\u5883\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"Bucket: \",typeof ossConfig.buckets.dev==='string'?ossConfig.buckets.dev:ossConfig.buckets.dev.name]})]}),/*#__PURE__*/_jsx(CloudUploadOutlined,{style:{fontSize:'20px',color:'#1890ff'}})]})}),((_ossConfig$buckets2=ossConfig.buckets)===null||_ossConfig$buckets2===void 0?void 0:_ossConfig$buckets2.prod)&&/*#__PURE__*/_jsx(Card,{hoverable:true,onClick:()=>executeSimpleUpload('prod'),style:{cursor:'pointer'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:\"\\uD83D\\uDE80 \\u751F\\u4EA7\\u73AF\\u5883\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"Bucket: \",Array.isArray(ossConfig.buckets.prod)?ossConfig.buckets.prod.map(b=>b.name||b).join(' + '):typeof ossConfig.buckets.prod==='string'?ossConfig.buckets.prod:ossConfig.buckets.prod.name]})]}),/*#__PURE__*/_jsx(CloudUploadOutlined,{style:{fontSize:'20px',color:'#1890ff'}})]})})]}),!((_ossConfig$buckets3=ossConfig.buckets)!==null&&_ossConfig$buckets3!==void 0&&_ossConfig$buckets3.dev)&&!((_ossConfig$buckets4=ossConfig.buckets)!==null&&_ossConfig$buckets4!==void 0&&_ossConfig$buckets4.prod)&&/*#__PURE__*/_jsx(Alert,{message:\"\\u672A\\u627E\\u5230bucket\\u914D\\u7F6E\",description:\"\\u8BF7\\u5148\\u5728oss-connection-config.json\\u4E2D\\u914D\\u7F6E\\u9879\\u76EE\\u7684bucket\\u4FE1\\u606F\",type:\"warning\",showIcon:true})]}):/*#__PURE__*/_jsx(Alert,{message:\"\\u672A\\u627E\\u5230OSS\\u914D\\u7F6E\",description:\"\\u8BF7\\u5148\\u5728oss-connection-config.json\\u4E2D\\u914D\\u7F6E\\u9879\\u76EE\\u4FE1\\u606F\",type:\"warning\",showIcon:true})}),/*#__PURE__*/_jsx(Modal,{title:progressTitle,open:progressModalVisible,footer:null,closable:false,width:700,children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'20px'},children:[currentOperation==='upload'&&/*#__PURE__*/_jsx(Progress,{type:\"circle\",percent:progressPercent,status:progressText.includes('å¤±è´¥')?'exception':progressText.includes('æˆåŠŸ')?'success':'active',style:{marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'bold'},children:progressText})]}),progressLogs.length>0&&/*#__PURE__*/_jsxs(\"div\",{ref:logsRef,style:{maxHeight:'300px',overflowY:'auto',background:'#1e1e1e',color:'#00ff00',padding:'15px',borderRadius:'8px',fontFamily:'Monaco, Menlo, \"Ubuntu Mono\", monospace',fontSize:'12px',whiteSpace:'pre-wrap'},children:[progressLogs.map((log,index)=>/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'4px'},children:log},index)),Array.from(fileUploadStatus.entries()).map(_ref3=>{let[fileName,status]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'4px',color:status.status==='uploading'?'#ffa500':// æ©™è‰²ï¼šæ­£åœ¨ä¸Šä¼ \nstatus.status==='uploaded'?'#00ff00':// ç»¿è‰²ï¼šä¸Šä¼ æˆåŠŸ\n'#ff4444'// çº¢è‰²ï¼šä¸Šä¼ å¤±è´¥\n},children:[fileName,\": \",status.message]},fileName);})]})]})})]});};export default Projects;","map":{"version":3,"names":["React","useState","useEffect","useRef","Row","Col","Card","Statistic","Button","List","Avatar","Space","Typography","Tag","message","Modal","Select","Tooltip","Progress","Alert","FolderOpenOutlined","FireOutlined","CheckCircleOutlined","PauseCircleOutlined","GlobalOutlined","SettingOutlined","MobileOutlined","DownOutlined","UpOutlined","BuildOutlined","CloudUploadOutlined","ReloadOutlined","PlusOutlined","LoadingOutlined","useProjects","useOSSConfig","gitApi","jsx","_jsx","jsxs","_jsxs","Title","Text","Option","Projects","_ossConfig$buckets","_ossConfig$buckets2","_ossConfig$buckets3","_ossConfig$buckets4","projects","isLoading","loadProjects","scanProjects","ossConfig","channels","ossLoading","loadOSSConfig","recentProjects","setRecentProjects","selectedProject","setSelectedProject","buildModalVisible","setBuildModalVisible","uploadModalVisible","setUploadModalVisible","simpleUploadModalVisible","setSimpleUploadModalVisible","gitModalVisible","setGitModalVisible","progressModalVisible","setProgressModalVisible","progressTitle","setProgressTitle","progressPercent","setProgressPercent","progressText","setProgressText","progressLogs","setProgressLogs","fileUploadStatus","setFileUploadStatus","Map","currentOperation","setCurrentOperation","selectedChannel","setSelectedChannel","selectedEnv","setSelectedEnv","logsRef","current","scrollTop","scrollHeight","projectStats","total","active","completed","paused","projectCategories","type","name","count","icon","color","length","sorted","sort","a","b","Date","lastCommitTime","getTime","slice","formatRelativeTime","dateString","date","now","diffMs","diffHours","Math","floor","diffDays","concat","toLocaleDateString","isResponseSuccess","response","ok","success","handleGitPull","projectName","project","find","p","error","pull","path","Error","setTimeout","handleGitPush","push","handleBuild","executeBuild","channel","_response$body","fetch","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","status","reader","getReader","decoder","TextDecoder","buffer","done","value","read","decode","stream","lines","split","pop","line","startsWith","data","parse","prev","e","console","handleUpload","Promise","resolve","Object","keys","executeSimpleUpload","_buildResponse$body","_normalResponse$body","buildResponse","buildReader","buildBuffer","buildSuccess","normalUploadApi","normalResponse","channelId","normalReader","normalBuffer","set","file","globalProgress","progress","_backupResponse$body","backupUploadApi","backupResponse","isBackup","backupReader","backupBuffer","bucketIndex","totalBuckets","bucket","bucketProgress","executeUpload","_buildResponse$body2","_normalResponse$body2","_backupResponse$body2","handleScanProjects","className","children","level","onClick","loading","gutter","xs","sm","md","title","prefix","valueStyle","lg","dataSource","renderItem","Item","actions","Meta","avatar","description","direction","size","modified","added","deleted","category","style","borderLeft","backgroundColor","fontWeight","open","onCancel","footer","width","textAlign","padding","fontSize","marginTop","marginBottom","strong","display","gap","entries","map","_ref","channelConfig","hoverable","cursor","justifyContent","alignItems","showIcon","_ref2","flex","background","border","flexDirection","buckets","dev","prod","Array","isArray","join","closable","percent","includes","ref","maxHeight","overflowY","borderRadius","fontFamily","whiteSpace","log","index","from","_ref3","fileName"],"sources":["/Users/maiyou001/.ai-assistant/gui/frontend/src/pages/Projects.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Row, Col, Card, Statistic, Button, List, Avatar, Space, Typography,\n  Tag, message, Modal, Select, Input, Form, Tooltip, Progress, Alert\n} from 'antd';\nimport {\n  FolderOpenOutlined,\n  FireOutlined,\n  CheckCircleOutlined,\n  PauseCircleOutlined,\n  GlobalOutlined,\n  SettingOutlined,\n  MobileOutlined,\n  DownOutlined,\n  UpOutlined,\n  BuildOutlined,\n  CloudUploadOutlined,\n  ReloadOutlined,\n  PlusOutlined,\n  LoadingOutlined\n} from '@ant-design/icons';\nimport { useProjects, useOSSConfig } from '../api';\nimport { gitApi, buildApi, ossApi } from '../api/client';\nimport './Projects.css';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\ninterface Project {\n  name: string;\n  path: string;\n  lastCommitTime?: string;\n  status?: {\n    modified: number;\n    added: number;\n    deleted: number;\n  };\n}\n\nconst Projects: React.FC = () => {\n  const { projects, isLoading, loadProjects, scanProjects } = useProjects();\n  const { ossConfig, channels, isLoading: ossLoading, loadOSSConfig } = useOSSConfig();\n  const [recentProjects, setRecentProjects] = useState<Project[]>([]);\n  const [selectedProject, setSelectedProject] = useState<string>('');\n  const [buildModalVisible, setBuildModalVisible] = useState(false);\n  const [uploadModalVisible, setUploadModalVisible] = useState(false);\n  const [simpleUploadModalVisible, setSimpleUploadModalVisible] = useState(false);\n  const [gitModalVisible, setGitModalVisible] = useState(false);\n  const [progressModalVisible, setProgressModalVisible] = useState(false);\n  const [progressTitle, setProgressTitle] = useState('');\n  const [progressPercent, setProgressPercent] = useState(0);\n  const [progressText, setProgressText] = useState('');\n  const [progressLogs, setProgressLogs] = useState<string[]>([]);\n  const [fileUploadStatus, setFileUploadStatus] = useState<Map<string, { status: 'uploading' | 'uploaded' | 'failed', message: string }>>(new Map());\n  const [currentOperation, setCurrentOperation] = useState<'git-pull' | 'git-push' | 'build' | 'upload' | null>(null);\n  const [selectedChannel, setSelectedChannel] = useState<string>('');\n  const [selectedEnv, setSelectedEnv] = useState<'dev' | 'prod'>('dev');\n\n  // ç§»é™¤uploadAsZipçŠ¶æ€ï¼Œç›´æ¥ä½¿ç”¨å‹ç¼©ä¸Šä¼ ä½œä¸ºé»˜è®¤è¡Œä¸º\n\n  // æ—¥å¿—åŒºåŸŸè‡ªåŠ¨æ»šåŠ¨\n  const logsRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (logsRef.current) {\n      logsRef.current.scrollTop = logsRef.current.scrollHeight;\n    }\n  }, [progressLogs, fileUploadStatus]);\n\n  // é¡¹ç›®ç»Ÿè®¡æ•°æ®\n  const projectStats = {\n    total: 26,\n    active: 12,\n    completed: 8,\n    paused: 6\n  };\n\n  // é¡¹ç›®åˆ†ç±»æ•°æ®\n  const projectCategories = [\n    { type: 'frontend', name: 'å‰ç«¯é¡¹ç›®', count: 15, icon: <GlobalOutlined />, color: '#1890ff' },\n    { type: 'backend', name: 'åç«¯é¡¹ç›®', count: 8, icon: <SettingOutlined />, color: '#52c41a' },\n    { type: 'mobile', name: 'ç§»åŠ¨ç«¯', count: 3, icon: <MobileOutlined />, color: '#fa8c16' }\n  ];\n\n  useEffect(() => {\n    loadProjects();\n  }, [loadProjects]);\n\n  useEffect(() => {\n    if (projects && projects.length > 0) {\n      // æŒ‰æœ€åæäº¤æ—¶é—´æ’åºï¼Œå–æœ€è¿‘6ä¸ª\n      const sorted = [...projects].sort((a: any, b: any) =>\n        new Date(b.lastCommitTime || 0).getTime() - new Date(a.lastCommitTime || 0).getTime()\n      );\n      setRecentProjects(sorted.slice(0, 6));\n    }\n  }, [projects]);\n\n  // æ ¼å¼åŒ–ç›¸å¯¹æ—¶é—´\n  const formatRelativeTime = (dateString: string) => {\n    if (!dateString) return 'æœªçŸ¥';\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffDays = Math.floor(diffHours / 24);\n\n    if (diffHours < 1) return 'åˆšåˆš';\n    if (diffHours < 24) return `${diffHours}å°æ—¶å‰`;\n    if (diffDays < 7) return `${diffDays}å¤©å‰`;\n    return date.toLocaleDateString('zh-CN');\n  };\n\n  // æ£€æŸ¥APIå“åº”æ˜¯å¦æˆåŠŸ\n  const isResponseSuccess = (response: any): boolean => {\n    return response.ok === true || response.success === true;\n  };\n\n  // å¤„ç†é¡¹ç›®æ“ä½œ\n  const handleGitPull = async (projectName: string) => {\n    const project = projects.find(p => p.name === projectName);\n    if (!project) {\n      message.error('é¡¹ç›®æœªæ‰¾åˆ°');\n      return;\n    }\n\n    setCurrentOperation('git-pull');\n    setProgressTitle(`æ‹‰å–é¡¹ç›®: ${projectName}`);\n    setProgressPercent(0);\n    setProgressText('æ­£åœ¨æ‹‰å–...');\n    setProgressLogs([]);\n    setProgressModalVisible(true);\n\n    try {\n      const response = await gitApi.pull(project.path);\n      if (isResponseSuccess(response)) {\n        setProgressPercent(100);\n        setProgressText('âœ… æ‹‰å–æˆåŠŸ');\n        message.success(`âœ… æ‹‰å–æˆåŠŸ: ${projectName}`);\n        // é‡æ–°åŠ è½½é¡¹ç›®åˆ—è¡¨ä»¥æ›´æ–°çŠ¶æ€\n        await loadProjects();\n      } else {\n        throw new Error(response.error || 'æ‹‰å–å¤±è´¥');\n      }\n    } catch (error: any) {\n      setProgressText('âŒ æ‹‰å–å¤±è´¥');\n      message.error(`âŒ æ‹‰å–å¤±è´¥: ${error.message}`);\n    } finally {\n      setTimeout(() => setProgressModalVisible(false), 2000);\n    }\n  };\n\n  const handleGitPush = async (projectName: string) => {\n    const project = projects.find(p => p.name === projectName);\n    if (!project) {\n      message.error('é¡¹ç›®æœªæ‰¾åˆ°');\n      return;\n    }\n\n    setCurrentOperation('git-push');\n    setProgressTitle(`æ¨é€é¡¹ç›®: ${projectName}`);\n    setProgressPercent(0);\n    setProgressText('æ­£åœ¨æ¨é€...');\n    setProgressLogs([]);\n    setProgressModalVisible(true);\n\n    try {\n      const response = await gitApi.push(project.path);\n      if (isResponseSuccess(response)) {\n        setProgressPercent(100);\n        setProgressText('âœ… æ¨é€æˆåŠŸ');\n        message.success(`âœ… æ¨é€æˆåŠŸ: ${projectName}`);\n        // é‡æ–°åŠ è½½é¡¹ç›®åˆ—è¡¨ä»¥æ›´æ–°çŠ¶æ€\n        await loadProjects();\n      } else {\n        throw new Error(response.error || 'æ¨é€å¤±è´¥');\n      }\n    } catch (error: any) {\n      setProgressText('âŒ æ¨é€å¤±è´¥');\n      message.error(`âŒ æ¨é€å¤±è´¥: ${error.message}`);\n    } finally {\n      setTimeout(() => setProgressModalVisible(false), 2000);\n    }\n  };\n\n  const handleBuild = async (projectName: string) => {\n    setSelectedProject(projectName);\n    // åŠ è½½OSSé…ç½®ä»¥è·å–æ¸ é“ä¿¡æ¯\n    await loadOSSConfig(projectName);\n    setBuildModalVisible(true);\n  };\n\n  const executeBuild = async (channel: string) => {\n    setBuildModalVisible(false);\n    setCurrentOperation('build');\n    setProgressTitle(`æ„å»ºé¡¹ç›®: ${selectedProject} (${channel})`);\n    setProgressPercent(0);\n    setProgressText('å‡†å¤‡æ„å»º...');\n    setProgressLogs([]);\n    setFileUploadStatus(new Map()); // æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\n    setProgressModalVisible(true);\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/build-stream`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ projectName: selectedProject, channel })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n\n      const reader = response.body?.getReader();\n      if (!reader) {\n        throw new Error('æ— æ³•è·å–å“åº”æµ');\n      }\n\n      const decoder = new TextDecoder();\n      let buffer = '';\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        buffer += decoder.decode(value, { stream: true });\n        const lines = buffer.split('\\n\\n');\n        buffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'log' || data.type === 'stdout') {\n                setProgressText(data.message);\n                // æ„å»ºè¿‡ç¨‹ä¸­ä¸æ˜¾ç¤ºè¿›åº¦æ¡è¿›åº¦\n              } else if (data.type === 'stderr') {\n                setProgressText(`âš ï¸ ${data.message}`);\n              } else if (data.type === 'success') {\n                setProgressPercent(100);\n                setProgressText('âœ… æ„å»ºæˆåŠŸ');\n                message.success(`âœ… æ„å»ºæˆåŠŸ: ${selectedProject}`);\n                setTimeout(() => setProgressModalVisible(false), 2000);\n              } else if (data.type === 'error') {\n                setProgressText('âŒ æ„å»ºå¤±è´¥');\n                message.error(`âŒ æ„å»ºå¤±è´¥: ${data.message}`);\n                setTimeout(() => setProgressModalVisible(false), 3000);\n              }\n            } catch (e) {\n              console.error('è§£æSSEæ•°æ®å¤±è´¥:', e);\n            }\n          }\n        }\n      }\n    } catch (error: any) {\n      setProgressText('âŒ æ„å»ºå¤±è´¥');\n      message.error(`âŒ æ„å»ºå¤±è´¥: ${error.message}`);\n      setTimeout(() => setProgressModalVisible(false), 3000);\n    }\n  };\n\n  const handleUpload = async (projectName: string) => {\n    setSelectedProject(projectName);\n    // åŠ è½½OSSé…ç½®\n    await loadOSSConfig(projectName);\n\n    // ç­‰å¾…ä¸€å°æ®µæ—¶é—´ç¡®ä¿çŠ¶æ€æ›´æ–°\n    await new Promise(resolve => setTimeout(resolve, 100));\n\n    // æ£€æŸ¥æ˜¯å¦æœ‰æ¸ é“é…ç½®\n    if (channels && channels.channels && Object.keys(channels.channels).length > 0) {\n      // æœ‰æ¸ é“é…ç½®ï¼Œæ˜¾ç¤ºæ¸ é“é€‰æ‹©æ¨¡æ€æ¡†\n      setUploadModalVisible(true);\n    } else {\n      // æ²¡æœ‰æ¸ é“é…ç½®ï¼Œæ˜¾ç¤ºç®€å•ç¯å¢ƒé€‰æ‹©æ¨¡æ€æ¡†\n      setSimpleUploadModalVisible(true);\n    }\n  };\n\n  const executeSimpleUpload = async (env: 'dev' | 'prod') => {\n    const project = projects.find(p => p.name === selectedProject);\n    if (!project) {\n      message.error('é¡¹ç›®æœªæ‰¾åˆ°');\n      return;\n    }\n\n    setSimpleUploadModalVisible(false);\n    setCurrentOperation('upload');\n    setProgressTitle(`æ„å»ºå¹¶ä¸Šä¼ : ${selectedProject} (${env === 'dev' ? 'å¼€å‘' : 'ç”Ÿäº§'}ç¯å¢ƒ)`);\n    setProgressPercent(0);\n    setProgressText('å‡†å¤‡æ„å»º...');\n    setProgressLogs([]);\n    setProgressModalVisible(true);\n\n    try {\n      // ç¬¬ä¸€æ­¥ï¼šæ„å»ºé¡¹ç›®\n      setProgressText('æ­£åœ¨æ„å»ºé¡¹ç›®...');\n      const buildResponse = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/build-stream`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ projectName: selectedProject })\n      });\n\n      if (!buildResponse.ok) {\n        throw new Error(`æ„å»ºè¯·æ±‚å¤±è´¥: HTTP ${buildResponse.status}`);\n      }\n\n      const buildReader = buildResponse.body?.getReader();\n      if (!buildReader) {\n        throw new Error('æ— æ³•è·å–æ„å»ºå“åº”æµ');\n      }\n\n      const decoder = new TextDecoder();\n      let buildBuffer = '';\n      let buildSuccess = false;\n\n      while (true) {\n        const { done, value } = await buildReader.read();\n        if (done) break;\n\n        buildBuffer += decoder.decode(value, { stream: true });\n        const lines = buildBuffer.split('\\n\\n');\n        buildBuffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'success') {\n                buildSuccess = true;\n                setProgressText('æ„å»ºå®Œæˆï¼Œå¼€å§‹ä¸Šä¼ ...');\n              } else if (data.type === 'error') {\n                throw new Error(`æ„å»ºå¤±è´¥: ${data.message}`);\n              }\n            } catch (e) {\n              console.error('è§£ææ„å»ºSSEæ•°æ®å¤±è´¥:', e);\n            }\n          }\n        }\n      }\n\n      if (!buildSuccess) {\n        throw new Error('æ„å»ºæœªå®Œæˆ');\n      }\n\n      // ç¬¬äºŒæ­¥ï¼šä¸Šä¼ åˆ°OSS\n      setProgressPercent(0); // é‡ç½®è¿›åº¦ä¸º0ï¼Œå¼€å§‹ä¸Šä¼ \n      setFileUploadStatus(new Map()); // æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\n      \n      // æ‰€æœ‰ç¯å¢ƒéƒ½å…ˆæ‰§è¡Œæ­£å¸¸çš„é€ä¸ªæ–‡ä»¶ä¸Šä¼ \n      const normalUploadApi = 'upload-stream';\n      const normalResponse = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/${normalUploadApi}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          projectName: selectedProject,\n          path: project.path,\n          channelId: 'default', // ä½¿ç”¨é»˜è®¤æ¸ é“ID\n          env\n        })\n      });\n\n      if (!normalResponse.ok) {\n        throw new Error(`HTTP ${normalResponse.status}`);\n      }\n\n      const normalReader = normalResponse.body?.getReader();\n      if (!normalReader) {\n        throw new Error('æ— æ³•è·å–ä¸Šä¼ å“åº”æµ');\n      }\n\n      let normalBuffer = '';\n\n      while (true) {\n        const { done, value } = await normalReader.read();\n        if (done) break;\n\n        normalBuffer += decoder.decode(value, { stream: true });\n        const lines = normalBuffer.split('\\n\\n');\n        normalBuffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'start') {\n                setProgressText(data.message);\n              } else if (data.type === 'uploading') {\n                setProgressText(`æ­£åœ¨ä¸Šä¼ æ–‡ä»¶...`);\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploading', message: 'æ­£åœ¨ä¸Šä¼ ...' })));\n                setProgressPercent(data.globalProgress || data.progress || 0); // ä½¿ç”¨å…¨å±€è¿›åº¦\n              } else if (data.type === 'uploaded') {\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploaded', message: 'âœ… ä¸Šä¼ æˆåŠŸ' })));\n                setProgressPercent(data.globalProgress || data.progress || 0);\n              } else if (data.type === 'failed') {\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'failed', message: `âŒ ä¸Šä¼ å¤±è´¥: ${data.error}` })));\n                setProgressPercent(data.globalProgress || data.progress || 0);\n              } else if (data.type === 'complete') {\n                setProgressPercent(100); // æ­£å¸¸ä¸Šä¼ å®Œæˆï¼Œè®¾ä¸º100%\n                setProgressText('âœ… æ­£å¸¸ä¸Šä¼ å®Œæˆï¼Œå¼€å§‹ç‰ˆæœ¬å¤‡ä»½...');\n              } else if (data.type === 'error') {\n                setProgressText('âŒ ä¸Šä¼ å¤±è´¥');\n                message.error(`âŒ ä¸Šä¼ å¤±è´¥: ${data.message}`);\n                setTimeout(() => setProgressModalVisible(false), 3000);\n                return; // ä¸Šä¼ å¤±è´¥ï¼Œç›´æ¥è¿”å›\n              }\n            } catch (e) {\n              console.error('è§£æSSEæ•°æ®å¤±è´¥:', e);\n            }\n          }\n        }\n      }\n\n      // ç¬¬ä¸‰æ­¥ï¼šç”Ÿäº§ç¯å¢ƒé¢å¤–æ‰§è¡Œå‹ç¼©åŒ…å¤‡ä»½\n      if (env === 'prod') {\n        setProgressPercent(0); // ä»0%é‡æ–°å¼€å§‹å¤‡ä»½è¿›åº¦\n        setFileUploadStatus(new Map()); // æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\n        \n        const backupUploadApi = 'upload-zip-stream';\n        const backupResponse = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/${backupUploadApi}`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            projectName: selectedProject,\n            path: project.path,\n            channelId: 'default',\n            env,\n            isBackup: true // æ ‡è®°ä¸ºå¤‡ä»½ä¸Šä¼ \n          })\n        });\n\n        if (!backupResponse.ok) {\n          throw new Error(`å¤‡ä»½ä¸Šä¼ è¯·æ±‚å¤±è´¥: HTTP ${backupResponse.status}`);\n        }\n\n        const backupReader = backupResponse.body?.getReader();\n        if (!backupReader) {\n          throw new Error('æ— æ³•è·å–å¤‡ä»½ä¸Šä¼ å“åº”æµ');\n        }\n\n        let backupBuffer = '';\n\n        while (true) {\n          const { done, value } = await backupReader.read();\n          if (done) break;\n\n          backupBuffer += decoder.decode(value, { stream: true });\n          const lines = backupBuffer.split('\\n\\n');\n          backupBuffer = lines.pop() || '';\n\n          for (const line of lines) {\n            if (line.startsWith('data: ')) {\n              try {\n                const data = JSON.parse(line.slice(6));\n                setProgressLogs(prev => [...prev, data.message]);\n\n                if (data.type === 'start') {\n                  setProgressText(data.message);\n                } else if (data.type === 'compressing') {\n                  setProgressText(data.message);\n                  setProgressPercent(data.progress || 0); // å‹ç¼©é˜¶æ®µ0-100%\n                } else if (data.type === 'compressed') {\n                  setProgressText(data.message);\n                  setProgressPercent(100); // å‹ç¼©å®Œæˆè®¾ä¸º100%\n                } else if (data.type === 'bucket_start') {\n                  setProgressText(`${data.bucketIndex}/${data.totalBuckets}: ${data.message}`);\n                  setProgressPercent(0); // å¤‡ä»½ä¸Šä¼ ä»0%å¼€å§‹\n                } else if (data.type === 'uploading') {\n                  setProgressText(`æ­£åœ¨å¤‡ä»½åˆ° ${data.bucket}...`);\n                  setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploading', message: 'æ­£åœ¨å¤‡ä»½...' })));\n                  setProgressPercent(data.bucketProgress || data.progress); // å¤‡ä»½ä¸Šä¼ 0-100%\n                } else if (data.type === 'uploaded') {\n                  setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploaded', message: 'âœ… å¤‡ä»½æˆåŠŸ' })));\n                  setProgressPercent(80 + (data.bucketProgress || data.progress) * 0.2);\n                } else if (data.type === 'failed') {\n                  setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'failed', message: `âŒ å¤‡ä»½å¤±è´¥: ${data.error}` })));\n                  setProgressPercent(80 + (data.bucketProgress || data.progress) * 0.2);\n                } else if (data.type === 'bucket_complete') {\n                  setProgressText(`${data.bucket} å¤‡ä»½å®Œæˆ (${data.bucketIndex}/${data.totalBuckets})`);\n                } else if (data.type === 'complete') {\n                  setProgressPercent(100);\n                  setProgressText('ğŸ‰ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæˆï¼æ­£åœ¨æ‰§è¡Œéƒ¨ç½²åä»»åŠ¡...');\n                  message.success(`ğŸ‰ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæˆ: ${selectedProject}`);\n                  // ç”Ÿäº§ç¯å¢ƒå»¶è¿Ÿå…³é—­ï¼Œè®©ç”¨æˆ·çœ‹åˆ°éƒ¨ç½²ä»»åŠ¡çš„æ‰§è¡Œ\n                  setTimeout(() => setProgressModalVisible(false), 5000);\n                } else if (data.type === 'error') {\n                  setProgressText('âŒ å¤‡ä»½å¤±è´¥');\n                  message.error(`âŒ å¤‡ä»½å¤±è´¥: ${data.message}`);\n                  setTimeout(() => setProgressModalVisible(false), 3000);\n                }\n              } catch (e) {\n                console.error('è§£æå¤‡ä»½SSEæ•°æ®å¤±è´¥:', e);\n              }\n            }\n          }\n        }\n      } else {\n        // å¼€å‘ç¯å¢ƒç›´æ¥å®Œæˆ\n        setProgressPercent(100);\n        setProgressText('âœ… ä¸Šä¼ æˆåŠŸ');\n        message.success(`âœ… ä¸Šä¼ æˆåŠŸ: ${selectedProject}`);\n        setTimeout(() => setProgressModalVisible(false), 2000);\n      }\n    } catch (error: any) {\n      setProgressText('âŒ æ“ä½œå¤±è´¥');\n      message.error(`âŒ æ“ä½œå¤±è´¥: ${error.message}`);\n      setTimeout(() => setProgressModalVisible(false), 3000);\n    }\n  };\n\n  const executeUpload = async (channelId: string, env: 'dev' | 'prod') => {\n    const project = projects.find(p => p.name === selectedProject);\n    if (!project) {\n      message.error('é¡¹ç›®æœªæ‰¾åˆ°');\n      return;\n    }\n\n    setUploadModalVisible(false);\n    setCurrentOperation('upload');\n    setProgressTitle(`æ„å»ºå¹¶ä¸Šä¼ : ${selectedProject} (${channelId} - ${env === 'dev' ? 'å¼€å‘' : 'ç”Ÿäº§'})`);\n    setProgressPercent(0);\n    setProgressText('å‡†å¤‡æ„å»º...');\n    setProgressLogs([]);\n    setFileUploadStatus(new Map()); // æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\n    setProgressModalVisible(true);\n\n    try {\n      // ç¬¬ä¸€æ­¥ï¼šæ„å»ºé¡¹ç›®\n      setProgressText('æ­£åœ¨æ„å»ºé¡¹ç›®...');\n      const buildResponse = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/build-stream`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          projectName: selectedProject,\n          channel: channelId\n        })\n      });\n\n      if (!buildResponse.ok) {\n        throw new Error(`æ„å»ºè¯·æ±‚å¤±è´¥: HTTP ${buildResponse.status}`);\n      }\n\n      const buildReader = buildResponse.body?.getReader();\n      if (!buildReader) {\n        throw new Error('æ— æ³•è·å–æ„å»ºå“åº”æµ');\n      }\n\n      const decoder = new TextDecoder();\n      let buildBuffer = '';\n      let buildSuccess = false;\n\n      while (true) {\n        const { done, value } = await buildReader.read();\n        if (done) break;\n\n        buildBuffer += decoder.decode(value, { stream: true });\n        const lines = buildBuffer.split('\\n\\n');\n        buildBuffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'success') {\n                buildSuccess = true;\n                setProgressText('æ„å»ºå®Œæˆï¼Œå¼€å§‹ä¸Šä¼ ...');\n              } else if (data.type === 'error') {\n                throw new Error(`æ„å»ºå¤±è´¥: ${data.message}`);\n              }\n            } catch (e) {\n              console.error('è§£ææ„å»ºSSEæ•°æ®å¤±è´¥:', e);\n            }\n          }\n        }\n      }\n\n      if (!buildSuccess) {\n        throw new Error('æ„å»ºæœªå®Œæˆ');\n      }\n\n      // ç¬¬äºŒæ­¥ï¼šä¸Šä¼ åˆ°OSS\n      setProgressPercent(0); // é‡ç½®è¿›åº¦ä¸º0ï¼Œå¼€å§‹ä¸Šä¼ \n      setFileUploadStatus(new Map()); // æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\n      \n      // æ‰€æœ‰ç¯å¢ƒéƒ½å…ˆæ‰§è¡Œæ­£å¸¸çš„é€ä¸ªæ–‡ä»¶ä¸Šä¼ \n      const normalUploadApi = 'upload-stream';\n      const normalResponse = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/${normalUploadApi}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          projectName: selectedProject,\n          path: project.path,\n          channelId,\n          env\n        })\n      });\n\n      if (!normalResponse.ok) {\n        throw new Error(`HTTP ${normalResponse.status}`);\n      }\n\n      const normalReader = normalResponse.body?.getReader();\n      if (!normalReader) {\n        throw new Error('æ— æ³•è·å–ä¸Šä¼ å“åº”æµ');\n      }\n\n      let normalBuffer = '';\n\n      while (true) {\n        const { done, value } = await normalReader.read();\n        if (done) break;\n\n        normalBuffer += decoder.decode(value, { stream: true });\n        const lines = normalBuffer.split('\\n\\n');\n        normalBuffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'start') {\n                setProgressText(data.message);\n              } else if (data.type === 'uploading') {\n                setProgressText('æ­£åœ¨ä¸Šä¼ æ–‡ä»¶...');\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploading', message: 'æ­£åœ¨ä¸Šä¼ ...' })));\n                setProgressPercent(data.globalProgress || data.progress || 0); // ä½¿ç”¨å…¨å±€è¿›åº¦\n              } else if (data.type === 'uploaded') {\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploaded', message: 'âœ… ä¸Šä¼ æˆåŠŸ' })));\n                setProgressPercent(data.globalProgress || data.progress || 0);\n              } else if (data.type === 'failed') {\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'failed', message: `âŒ ä¸Šä¼ å¤±è´¥: ${data.error}` })));\n                setProgressPercent(data.globalProgress || data.progress || 0);\n              } else if (data.type === 'complete') {\n                setProgressPercent(100); // æ­£å¸¸ä¸Šä¼ å®Œæˆï¼Œè®¾ä¸º100%\n                setProgressText('âœ… æ­£å¸¸ä¸Šä¼ å®Œæˆï¼Œå¼€å§‹ç‰ˆæœ¬å¤‡ä»½...');\n              } else if (data.type === 'error') {\n                setProgressText('âŒ ä¸Šä¼ å¤±è´¥');\n                message.error(`âŒ ä¸Šä¼ å¤±è´¥: ${data.message}`);\n                setTimeout(() => setProgressModalVisible(false), 3000);\n                return; // ä¸Šä¼ å¤±è´¥ï¼Œç›´æ¥è¿”å›\n              }\n            } catch (e) {\n              console.error('è§£æSSEæ•°æ®å¤±è´¥:', e);\n            }\n          }\n        }\n      }\n\n      // ç¬¬ä¸‰æ­¥ï¼šç”Ÿäº§ç¯å¢ƒé¢å¤–æ‰§è¡Œå‹ç¼©åŒ…å¤‡ä»½\n      if (env === 'prod') {\n        setProgressPercent(0); // ä»0%é‡æ–°å¼€å§‹å¤‡ä»½è¿›åº¦\n        setFileUploadStatus(new Map()); // æ¸…ç©ºæ–‡ä»¶çŠ¶æ€\n        \n        const backupUploadApi = 'upload-zip-stream';\n        const backupResponse = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/${backupUploadApi}`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            projectName: selectedProject,\n            path: project.path,\n            channelId,\n            env,\n            isBackup: true // æ ‡è®°ä¸ºå¤‡ä»½ä¸Šä¼ \n          })\n        });\n\n        if (!backupResponse.ok) {\n          throw new Error(`å¤‡ä»½ä¸Šä¼ è¯·æ±‚å¤±è´¥: HTTP ${backupResponse.status}`);\n        }\n\n        const backupReader = backupResponse.body?.getReader();\n        if (!backupReader) {\n          throw new Error('æ— æ³•è·å–å¤‡ä»½ä¸Šä¼ å“åº”æµ');\n        }\n\n        let backupBuffer = '';\n\n        while (true) {\n          const { done, value } = await backupReader.read();\n          if (done) break;\n\n          backupBuffer += decoder.decode(value, { stream: true });\n          const lines = backupBuffer.split('\\n\\n');\n          backupBuffer = lines.pop() || '';\n\n          for (const line of lines) {\n            if (line.startsWith('data: ')) {\n              try {\n                const data = JSON.parse(line.slice(6));\n                setProgressLogs(prev => [...prev, data.message]);\n\n                if (data.type === 'start') {\n                  setProgressText(data.message);\n                } else if (data.type === 'compressing') {\n                  setProgressText(data.message);\n                  setProgressPercent(data.progress || 0); // å‹ç¼©é˜¶æ®µ0-100%\n                } else if (data.type === 'compressed') {\n                  setProgressText(data.message);\n                  setProgressPercent(100); // å‹ç¼©å®Œæˆè®¾ä¸º100%\n                } else if (data.type === 'bucket_start') {\n                  setProgressText(`${data.bucketIndex}/${data.totalBuckets}: ${data.message}`);\n                  setProgressPercent(0); // å¤‡ä»½ä¸Šä¼ ä»0%å¼€å§‹\n                } else if (data.type === 'uploading') {\n                  setProgressText(`æ­£åœ¨å¤‡ä»½åˆ° ${data.bucket}...`);\n                  setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploading', message: 'æ­£åœ¨å¤‡ä»½...' })));\n                  setProgressPercent(data.bucketProgress || data.progress); // å¤‡ä»½ä¸Šä¼ 0-100%\n                } else if (data.type === 'uploaded') {\n                  setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploaded', message: 'âœ… å¤‡ä»½æˆåŠŸ' })));\n                  setProgressPercent(data.bucketProgress || data.progress);\n                } else if (data.type === 'failed') {\n                  setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'failed', message: `âŒ å¤‡ä»½å¤±è´¥: ${data.error}` })));\n                  setProgressPercent(data.bucketProgress || data.progress);\n                } else if (data.type === 'bucket_complete') {\n                  setProgressText(`${data.bucket} å¤‡ä»½å®Œæˆ (${data.bucketIndex}/${data.totalBuckets})`);\n                } else if (data.type === 'complete') {\n                  setProgressPercent(100);\n                  setProgressText('ğŸ‰ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæˆï¼æ­£åœ¨æ‰§è¡Œéƒ¨ç½²åä»»åŠ¡...');\n                  message.success(`ğŸ‰ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæˆ: ${selectedProject}`);\n                  // ç”Ÿäº§ç¯å¢ƒå»¶è¿Ÿå…³é—­ï¼Œè®©ç”¨æˆ·çœ‹åˆ°éƒ¨ç½²ä»»åŠ¡çš„æ‰§è¡Œ\n                  setTimeout(() => setProgressModalVisible(false), 5000);\n                } else if (data.type === 'error') {\n                  setProgressText('âŒ å¤‡ä»½å¤±è´¥');\n                  message.error(`âŒ å¤‡ä»½å¤±è´¥: ${data.message}`);\n                  setTimeout(() => setProgressModalVisible(false), 3000);\n                }\n              } catch (e) {\n                console.error('è§£æå¤‡ä»½SSEæ•°æ®å¤±è´¥:', e);\n              }\n            }\n          }\n        }\n      } else {\n        // å¼€å‘ç¯å¢ƒç›´æ¥å®Œæˆ\n        setProgressPercent(100);\n        setProgressText('âœ… ä¸Šä¼ æˆåŠŸ');\n        message.success(`âœ… ä¸Šä¼ æˆåŠŸ: ${selectedProject}`);\n        setTimeout(() => setProgressModalVisible(false), 2000);\n      }\n    } catch (error: any) {\n      setProgressText('âŒ æ“ä½œå¤±è´¥');\n      message.error(`âŒ æ“ä½œå¤±è´¥: ${error.message}`);\n      setTimeout(() => setProgressModalVisible(false), 3000);\n    }\n  };\n\n  const handleScanProjects = async () => {\n    await scanProjects();\n    message.success('é¡¹ç›®æ‰«æå®Œæˆ');\n  };\n\n  return (\n    <div className=\"projects-container\">\n      <div className=\"projects-header\">\n        <Title level={1}>ğŸ’¼ é¡¹ç›®ç®¡ç†</Title>\n        <Text className=\"projects-subtitle\">ç®¡ç†æ‚¨çš„å¼€å‘é¡¹ç›®</Text>\n        <Space>\n          <Button\n            type=\"primary\"\n            icon={<ReloadOutlined />}\n            onClick={handleScanProjects}\n            loading={isLoading}\n          >\n            æ‰«æé¡¹ç›®\n          </Button>\n          <Button type=\"default\" icon={<PlusOutlined />}>\n            æ–°å»ºé¡¹ç›®\n          </Button>\n        </Space>\n      </div>\n\n      {/* é¡¹ç›®ç»Ÿè®¡ */}\n      <Card className=\"stats-section\">\n        <Row gutter={[16, 16]}>\n          <Col xs={24} sm={12} md={6}>\n            <Card className=\"stat-card\">\n              <Statistic\n                title=\"é¡¹ç›®æ€»æ•°\"\n                value={projectStats.total}\n                prefix={<FolderOpenOutlined />}\n                valueStyle={{ color: '#1890ff' }}\n              />\n            </Card>\n          </Col>\n          <Col xs={24} sm={12} md={6}>\n            <Card className=\"stat-card\">\n              <Statistic\n                title=\"æ´»è·ƒé¡¹ç›®\"\n                value={projectStats.active}\n                prefix={<FireOutlined />}\n                valueStyle={{ color: '#fa8c16' }}\n              />\n            </Card>\n          </Col>\n          <Col xs={24} sm={12} md={6}>\n            <Card className=\"stat-card\">\n              <Statistic\n                title=\"å·²å®Œæˆ\"\n                value={projectStats.completed}\n                prefix={<CheckCircleOutlined />}\n                valueStyle={{ color: '#52c41a' }}\n              />\n            </Card>\n          </Col>\n          <Col xs={24} sm={12} md={6}>\n            <Card className=\"stat-card\">\n              <Statistic\n                title=\"å·²æš‚åœ\"\n                value={projectStats.paused}\n                prefix={<PauseCircleOutlined />}\n                valueStyle={{ color: '#bfbfbf' }}\n              />\n            </Card>\n          </Col>\n        </Row>\n      </Card>\n\n      <Row gutter={[24, 24]}>\n        <Col xs={24} lg={16}>\n          {/* æœ€è¿‘é¡¹ç›® */}\n          <Card\n            title={\n              <Space>\n                <FireOutlined />\n                æœ€è¿‘é¡¹ç›®\n              </Space>\n            }\n            className=\"recent-projects-section\"\n          >\n            <List\n              loading={isLoading}\n              dataSource={recentProjects}\n              renderItem={(project: Project) => (\n                <List.Item\n                  actions={[\n                    <Tooltip title=\"Git Pull\">\n                      <Button\n                        type=\"text\"\n                        icon={<DownOutlined />}\n                        onClick={() => handleGitPull(project.name)}\n                      />\n                    </Tooltip>,\n                    <Tooltip title=\"Git Push\">\n                      <Button\n                        type=\"text\"\n                        icon={<UpOutlined />}\n                        onClick={() => handleGitPush(project.name)}\n                      />\n                    </Tooltip>,\n                    <Tooltip title=\"æ„å»ºé¡¹ç›®\">\n                      <Button\n                        type=\"text\"\n                        icon={<BuildOutlined />}\n                        onClick={() => handleBuild(project.name)}\n                      />\n                    </Tooltip>,\n                    <Tooltip title=\"ä¸Šä¼ åˆ°OSS\">\n                      <Button\n                        type=\"text\"\n                        icon={<CloudUploadOutlined />}\n                        onClick={() => handleUpload(project.name)}\n                      />\n                    </Tooltip>\n                  ]}\n                >\n                  <List.Item.Meta\n                    avatar={<Avatar icon={<FolderOpenOutlined />} />}\n                    title={<strong>{project.name}</strong>}\n                    description={\n                      <Space direction=\"vertical\" size=\"small\">\n                        <Text type=\"secondary\">\n                          æœ€åæ›´æ–°: {formatRelativeTime(project.lastCommitTime || '')}\n                        </Text>\n                        {project.status && (\n                          <Space size=\"small\">\n                            {project.status.modified > 0 && (\n                              <Tag color=\"orange\">ğŸ“ {project.status.modified} å·²ä¿®æ”¹</Tag>\n                            )}\n                            {project.status.added > 0 && (\n                              <Tag color=\"green\">â• {project.status.added} å·²æ·»åŠ </Tag>\n                            )}\n                            {project.status.deleted > 0 && (\n                              <Tag color=\"red\">â– {project.status.deleted} å·²åˆ é™¤</Tag>\n                            )}\n                            {project.status.modified === 0 && project.status.added === 0 && project.status.deleted === 0 && (\n                              <Tag color=\"default\">âœ… æ— å˜åŒ–</Tag>\n                            )}\n                          </Space>\n                        )}\n                      </Space>\n                    }\n                  />\n                </List.Item>\n              )}\n            />\n            {recentProjects.length === 0 && !isLoading && (\n              <div className=\"empty-state\">\n                <Text type=\"secondary\">æš‚æ— é¡¹ç›®æ•°æ®</Text>\n              </div>\n            )}\n          </Card>\n        </Col>\n\n        <Col xs={24} lg={8}>\n          {/* é¡¹ç›®åˆ†ç±» */}\n          <Card title=\"ğŸ“‚ é¡¹ç›®åˆ†ç±»\" className=\"categories-section\">\n            <List\n              dataSource={projectCategories}\n              renderItem={(category) => (\n                <List.Item>\n                  <Card\n                    className=\"category-card\"\n                    style={{ borderLeft: `4px solid ${category.color}` }}\n                  >\n                    <Space>\n                      <Avatar\n                        icon={category.icon}\n                        style={{ backgroundColor: category.color }}\n                      />\n                      <div>\n                        <div style={{ fontWeight: 'bold' }}>{category.name}</div>\n                        <Text type=\"secondary\">{category.count} ä¸ªé¡¹ç›®</Text>\n                      </div>\n                    </Space>\n                  </Card>\n                </List.Item>\n              )}\n            />\n          </Card>\n        </Col>\n      </Row>\n\n      {/* æ„å»ºé€‰é¡¹å¼¹çª— */}\n      <Modal\n        title={`æ„å»ºé¡¹ç›®: ${selectedProject}`}\n        open={buildModalVisible}\n        onCancel={() => setBuildModalVisible(false)}\n        footer={null}\n        width={600}\n      >\n        {ossLoading ? (\n          <div style={{ textAlign: 'center', padding: '20px' }}>\n            <LoadingOutlined style={{ fontSize: '24px' }} />\n            <div style={{ marginTop: '10px' }}>æ­£åœ¨åŠ è½½æ¸ é“é…ç½®...</div>\n          </div>\n        ) : (\n          <div>\n            <div style={{ marginBottom: '20px' }}>\n              <Text strong>é€‰æ‹©æ„å»ºæ¸ é“:</Text>\n            </div>\n            {channels?.channels && Object.keys(channels.channels).length > 0 ? (\n              <div style={{ display: 'grid', gap: '12px' }}>\n                {Object.entries(channels.channels).map(([channelId, channelConfig]: [string, any]) => (\n                  <Card\n                    key={channelId}\n                    hoverable\n                    onClick={() => executeBuild(channelId)}\n                    style={{ cursor: 'pointer' }}\n                  >\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                      <div>\n                        <div style={{ fontWeight: 'bold' }}>{channelConfig.name || channelId}</div>\n                        <div style={{ fontSize: '12px', color: '#666' }}>æ¸ é“ID: {channelId}</div>\n                      </div>\n                      <BuildOutlined style={{ fontSize: '20px', color: '#1890ff' }} />\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            ) : (\n              <Alert\n                message=\"æœªæ‰¾åˆ°æ¸ é“é…ç½®\"\n                description=\"è¯·å…ˆé…ç½®é¡¹ç›®çš„æ¸ é“ä¿¡æ¯\"\n                type=\"warning\"\n                showIcon\n              />\n            )}\n          </div>\n        )}\n      </Modal>\n\n      {/* ä¸Šä¼ é€‰é¡¹å¼¹çª— */}\n      <Modal\n        title={`ä¸Šä¼ åˆ°OSS: ${selectedProject}`}\n        open={uploadModalVisible}\n        onCancel={() => setUploadModalVisible(false)}\n        footer={null}\n        width={600}\n      >\n        {ossLoading ? (\n          <div style={{ textAlign: 'center', padding: '20px' }}>\n            <LoadingOutlined style={{ fontSize: '24px' }} />\n            <div style={{ marginTop: '10px' }}>æ­£åœ¨åŠ è½½OSSé…ç½®...</div>\n          </div>\n        ) : (\n          <div>\n            <div style={{ marginBottom: '20px' }}>\n              <Text strong>é€‰æ‹©ä¸Šä¼ æ¸ é“å’Œç¯å¢ƒ:</Text>\n            </div>\n            {channels?.channels && Object.keys(channels.channels).length > 0 ? (\n              <div style={{ display: 'grid', gap: '12px' }}>\n                {Object.entries(channels.channels).map(([channelId, channelConfig]: [string, any]) => (\n                  <Card key={channelId} style={{ marginBottom: '8px' }}>\n                    <div style={{ fontWeight: 'bold', marginBottom: '12px' }}>{channelConfig.name || channelId}</div>\n                    <div style={{ display: 'flex', gap: '10px' }}>\n                      <Button\n                        type=\"default\"\n                        icon={<CloudUploadOutlined />}\n                        onClick={() => executeUpload(channelId, 'dev')}\n                        style={{ flex: 1, background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', color: 'white', border: 'none' }}\n                      >\n                        ğŸ“¦ å¼€å‘ç¯å¢ƒ\n                      </Button>\n                      <Button\n                        type=\"default\"\n                        icon={<CloudUploadOutlined />}\n                        onClick={() => executeUpload(channelId, 'prod')}\n                        style={{ flex: 1, background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', color: 'white', border: 'none' }}\n                      >\n                        ğŸš€ ç”Ÿäº§ç¯å¢ƒ\n                      </Button>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            ) : (\n              <Alert\n                message=\"æœªæ‰¾åˆ°æ¸ é“é…ç½®\"\n                description=\"è¯·å…ˆé…ç½®é¡¹ç›®çš„æ¸ é“ä¿¡æ¯\"\n                type=\"warning\"\n                showIcon\n              />\n            )}\n          </div>\n        )}\n      </Modal>\n\n      {/* ç®€å•ä¸Šä¼ é€‰é¡¹å¼¹çª—ï¼ˆæ— æ¸ é“é…ç½®çš„é¡¹ç›®ï¼‰ */}\n      <Modal\n        title={`ä¸Šä¼ åˆ°OSS: ${selectedProject}`}\n        open={simpleUploadModalVisible}\n        onCancel={() => setSimpleUploadModalVisible(false)}\n        footer={null}\n        width={500}\n      >\n        {ossLoading ? (\n          <div style={{ textAlign: 'center', padding: '20px' }}>\n            <LoadingOutlined style={{ fontSize: '24px' }} />\n            <div style={{ marginTop: '10px' }}>æ­£åœ¨åŠ è½½OSSé…ç½®...</div>\n          </div>\n        ) : ossConfig ? (\n          <div>\n            <div style={{ marginBottom: '20px' }}>\n              <Text strong>é€‰æ‹©ä¸Šä¼ ç¯å¢ƒ:</Text>\n            </div>\n            <div style={{ display: 'flex', gap: '12px', flexDirection: 'column' }}>\n              {ossConfig.buckets?.dev && (\n                <Card\n                  hoverable\n                  onClick={() => executeSimpleUpload('dev')}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div>\n                      <div style={{ fontWeight: 'bold' }}>ğŸ“¦ å¼€å‘ç¯å¢ƒ</div>\n                      <div style={{ fontSize: '12px', color: '#666' }}>\n                        Bucket: {typeof ossConfig.buckets.dev === 'string' ? ossConfig.buckets.dev : ossConfig.buckets.dev.name}\n                      </div>\n                    </div>\n                    <CloudUploadOutlined style={{ fontSize: '20px', color: '#1890ff' }} />\n                  </div>\n                </Card>\n              )}\n              {ossConfig.buckets?.prod && (\n                <Card\n                  hoverable\n                  onClick={() => executeSimpleUpload('prod')}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div>\n                      <div style={{ fontWeight: 'bold' }}>ğŸš€ ç”Ÿäº§ç¯å¢ƒ</div>\n                      <div style={{ fontSize: '12px', color: '#666' }}>\n                        Bucket: {Array.isArray(ossConfig.buckets.prod)\n                          ? ossConfig.buckets.prod.map((b: any) => b.name || b).join(' + ')\n                          : (typeof ossConfig.buckets.prod === 'string' ? ossConfig.buckets.prod : ossConfig.buckets.prod.name)\n                        }\n                      </div>\n                    </div>\n                    <CloudUploadOutlined style={{ fontSize: '20px', color: '#1890ff' }} />\n                  </div>\n                </Card>\n              )}\n            </div>\n            {!ossConfig.buckets?.dev && !ossConfig.buckets?.prod && (\n              <Alert\n                message=\"æœªæ‰¾åˆ°bucketé…ç½®\"\n                description=\"è¯·å…ˆåœ¨oss-connection-config.jsonä¸­é…ç½®é¡¹ç›®çš„bucketä¿¡æ¯\"\n                type=\"warning\"\n                showIcon\n              />\n            )}\n          </div>\n        ) : (\n          <Alert\n            message=\"æœªæ‰¾åˆ°OSSé…ç½®\"\n            description=\"è¯·å…ˆåœ¨oss-connection-config.jsonä¸­é…ç½®é¡¹ç›®ä¿¡æ¯\"\n            type=\"warning\"\n            showIcon\n          />\n        )}\n      </Modal>\n\n      {/* è¿›åº¦æ˜¾ç¤ºå¼¹çª— */}\n      <Modal\n        title={progressTitle}\n        open={progressModalVisible}\n        footer={null}\n        closable={false}\n        width={700}\n      >\n        <div style={{ padding: '20px' }}>\n          <div style={{ textAlign: 'center', marginBottom: '20px' }}>\n            {currentOperation === 'upload' && (\n              <Progress\n                type=\"circle\"\n                percent={progressPercent}\n                status={progressText.includes('å¤±è´¥') ? 'exception' : progressText.includes('æˆåŠŸ') ? 'success' : 'active'}\n                style={{ marginBottom: '10px' }}\n              />\n            )}\n            <div style={{ fontSize: '16px', fontWeight: 'bold' }}>{progressText}</div>\n          </div>\n\n          {progressLogs.length > 0 && (\n            <div\n              ref={logsRef}\n              style={{\n                maxHeight: '300px',\n                overflowY: 'auto',\n                background: '#1e1e1e',\n                color: '#00ff00',\n                padding: '15px',\n                borderRadius: '8px',\n                fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", monospace',\n                fontSize: '12px',\n                whiteSpace: 'pre-wrap'\n              }}\n            >\n              {progressLogs.map((log, index) => (\n                <div key={index} style={{ marginBottom: '4px' }}>\n                  {log}\n                </div>\n              ))}\n              {Array.from(fileUploadStatus.entries()).map(([fileName, status]) => (\n                <div\n                  key={fileName}\n                  style={{\n                    marginBottom: '4px',\n                    color: status.status === 'uploading' ? '#ffa500' : // æ©™è‰²ï¼šæ­£åœ¨ä¸Šä¼ \n                           status.status === 'uploaded' ? '#00ff00' : // ç»¿è‰²ï¼šä¸Šä¼ æˆåŠŸ\n                           '#ff4444' // çº¢è‰²ï¼šä¸Šä¼ å¤±è´¥\n                  }}\n                >\n                  {fileName}: {status.message}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Projects;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}