{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Row,Col,Card,Statistic,Button,List,Avatar,Space,Typography,Tag,message,Modal,Select,Tooltip,Progress,Alert,Checkbox}from'antd';import{FolderOpenOutlined,FireOutlined,CheckCircleOutlined,PauseCircleOutlined,GlobalOutlined,SettingOutlined,MobileOutlined,DownOutlined,UpOutlined,BuildOutlined,CloudUploadOutlined,ReloadOutlined,PlusOutlined,LoadingOutlined}from'@ant-design/icons';import{useProjects,useOSSConfig}from'../api';import{gitApi}from'../api/client';import'./Projects.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const{Option}=Select;const Projects=()=>{var _ossConfig$buckets,_ossConfig$buckets2,_ossConfig$buckets3,_ossConfig$buckets4;const{projects,isLoading,loadProjects,scanProjects}=useProjects();const{ossConfig,channels,isLoading:ossLoading,loadOSSConfig}=useOSSConfig();const[recentProjects,setRecentProjects]=useState([]);const[selectedProject,setSelectedProject]=useState('');const[buildModalVisible,setBuildModalVisible]=useState(false);const[uploadModalVisible,setUploadModalVisible]=useState(false);const[simpleUploadModalVisible,setSimpleUploadModalVisible]=useState(false);const[gitModalVisible,setGitModalVisible]=useState(false);const[progressModalVisible,setProgressModalVisible]=useState(false);const[progressTitle,setProgressTitle]=useState('');const[progressPercent,setProgressPercent]=useState(0);const[progressText,setProgressText]=useState('');const[progressLogs,setProgressLogs]=useState([]);const[fileUploadStatus,setFileUploadStatus]=useState(new Map());const[currentOperation,setCurrentOperation]=useState(null);const[selectedChannel,setSelectedChannel]=useState('');const[selectedEnv,setSelectedEnv]=useState('dev');const[uploadAsZip,setUploadAsZip]=useState(false);// 日志区域自动滚动\nconst logsRef=useRef(null);useEffect(()=>{if(logsRef.current){logsRef.current.scrollTop=logsRef.current.scrollHeight;}},[progressLogs,fileUploadStatus]);// 项目统计数据\nconst projectStats={total:26,active:12,completed:8,paused:6};// 项目分类数据\nconst projectCategories=[{type:'frontend',name:'前端项目',count:15,icon:/*#__PURE__*/_jsx(GlobalOutlined,{}),color:'#1890ff'},{type:'backend',name:'后端项目',count:8,icon:/*#__PURE__*/_jsx(SettingOutlined,{}),color:'#52c41a'},{type:'mobile',name:'移动端',count:3,icon:/*#__PURE__*/_jsx(MobileOutlined,{}),color:'#fa8c16'}];useEffect(()=>{loadProjects();},[loadProjects]);useEffect(()=>{if(projects&&projects.length>0){// 按最后提交时间排序，取最近6个\nconst sorted=[...projects].sort((a,b)=>new Date(b.lastCommitTime||0).getTime()-new Date(a.lastCommitTime||0).getTime());setRecentProjects(sorted.slice(0,6));}},[projects]);// 格式化相对时间\nconst formatRelativeTime=dateString=>{if(!dateString)return'未知';const date=new Date(dateString);const now=new Date();const diffMs=now.getTime()-date.getTime();const diffHours=Math.floor(diffMs/(1000*60*60));const diffDays=Math.floor(diffHours/24);if(diffHours<1)return'刚刚';if(diffHours<24)return\"\".concat(diffHours,\"\\u5C0F\\u65F6\\u524D\");if(diffDays<7)return\"\".concat(diffDays,\"\\u5929\\u524D\");return date.toLocaleDateString('zh-CN');};// 检查API响应是否成功\nconst isResponseSuccess=response=>{return response.ok===true||response.success===true;};// 处理项目操作\nconst handleGitPull=async projectName=>{const project=projects.find(p=>p.name===projectName);if(!project){message.error('项目未找到');return;}setCurrentOperation('git-pull');setProgressTitle(\"\\u62C9\\u53D6\\u9879\\u76EE: \".concat(projectName));setProgressPercent(0);setProgressText('正在拉取...');setProgressLogs([]);setProgressModalVisible(true);try{const response=await gitApi.pull(project.path);if(isResponseSuccess(response)){setProgressPercent(100);setProgressText('✅ 拉取成功');message.success(\"\\u2705 \\u62C9\\u53D6\\u6210\\u529F: \".concat(projectName));// 重新加载项目列表以更新状态\nawait loadProjects();}else{throw new Error(response.error||'拉取失败');}}catch(error){setProgressText('❌ 拉取失败');message.error(\"\\u274C \\u62C9\\u53D6\\u5931\\u8D25: \".concat(error.message));}finally{setTimeout(()=>setProgressModalVisible(false),2000);}};const handleGitPush=async projectName=>{const project=projects.find(p=>p.name===projectName);if(!project){message.error('项目未找到');return;}setCurrentOperation('git-push');setProgressTitle(\"\\u63A8\\u9001\\u9879\\u76EE: \".concat(projectName));setProgressPercent(0);setProgressText('正在推送...');setProgressLogs([]);setProgressModalVisible(true);try{const response=await gitApi.push(project.path);if(isResponseSuccess(response)){setProgressPercent(100);setProgressText('✅ 推送成功');message.success(\"\\u2705 \\u63A8\\u9001\\u6210\\u529F: \".concat(projectName));// 重新加载项目列表以更新状态\nawait loadProjects();}else{throw new Error(response.error||'推送失败');}}catch(error){setProgressText('❌ 推送失败');message.error(\"\\u274C \\u63A8\\u9001\\u5931\\u8D25: \".concat(error.message));}finally{setTimeout(()=>setProgressModalVisible(false),2000);}};const handleBuild=async projectName=>{setSelectedProject(projectName);// 加载OSS配置以获取渠道信息\nawait loadOSSConfig(projectName);setBuildModalVisible(true);};const executeBuild=async channel=>{setBuildModalVisible(false);setCurrentOperation('build');setProgressTitle(\"\\u6784\\u5EFA\\u9879\\u76EE: \".concat(selectedProject,\" (\").concat(channel,\")\"));setProgressPercent(0);setProgressText('准备构建...');setProgressLogs([]);setFileUploadStatus(new Map());// 清空文件状态\nsetProgressModalVisible(true);try{var _response$body;const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/build-stream\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,channel})});if(!response.ok){throw new Error(\"HTTP \".concat(response.status));}const reader=(_response$body=response.body)===null||_response$body===void 0?void 0:_response$body.getReader();if(!reader){throw new Error('无法获取响应流');}const decoder=new TextDecoder();let buffer='';while(true){const{done,value}=await reader.read();if(done)break;buffer+=decoder.decode(value,{stream:true});const lines=buffer.split('\\n\\n');buffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='log'||data.type==='stdout'){setProgressText(data.message);// 构建过程中不显示进度条进度\n}else if(data.type==='stderr'){setProgressText(\"\\u26A0\\uFE0F \".concat(data.message));}else if(data.type==='success'){setProgressPercent(100);setProgressText('✅ 构建成功');message.success(\"\\u2705 \\u6784\\u5EFA\\u6210\\u529F: \".concat(selectedProject));setTimeout(()=>setProgressModalVisible(false),2000);}else if(data.type==='error'){setProgressText('❌ 构建失败');message.error(\"\\u274C \\u6784\\u5EFA\\u5931\\u8D25: \".concat(data.message));setTimeout(()=>setProgressModalVisible(false),3000);}}catch(e){console.error('解析SSE数据失败:',e);}}}}}catch(error){setProgressText('❌ 构建失败');message.error(\"\\u274C \\u6784\\u5EFA\\u5931\\u8D25: \".concat(error.message));setTimeout(()=>setProgressModalVisible(false),3000);}};const handleUpload=async projectName=>{setSelectedProject(projectName);// 加载OSS配置\nawait loadOSSConfig(projectName);// 等待一小段时间确保状态更新\nawait new Promise(resolve=>setTimeout(resolve,100));// 检查是否有渠道配置\nif(channels&&channels.channels&&Object.keys(channels.channels).length>0){// 有渠道配置，显示渠道选择模态框\nsetUploadModalVisible(true);}else{// 没有渠道配置，显示简单环境选择模态框\nsetSimpleUploadModalVisible(true);}};const executeSimpleUpload=async env=>{const project=projects.find(p=>p.name===selectedProject);if(!project){message.error('项目未找到');return;}setSimpleUploadModalVisible(false);setCurrentOperation('upload');setProgressTitle(\"\\u6784\\u5EFA\\u5E76\\u4E0A\\u4F20: \".concat(selectedProject,\" (\").concat(env==='dev'?'开发':'生产',\"\\u73AF\\u5883)\"));setProgressPercent(0);setProgressText('准备构建...');setProgressLogs([]);setProgressModalVisible(true);try{var _buildResponse$body,_response$body2;// 第一步：构建项目\nsetProgressText('正在构建项目...');const buildResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/build-stream\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject})});if(!buildResponse.ok){throw new Error(\"\\u6784\\u5EFA\\u8BF7\\u6C42\\u5931\\u8D25: HTTP \".concat(buildResponse.status));}const buildReader=(_buildResponse$body=buildResponse.body)===null||_buildResponse$body===void 0?void 0:_buildResponse$body.getReader();if(!buildReader){throw new Error('无法获取构建响应流');}const decoder=new TextDecoder();let buildBuffer='';let buildSuccess=false;while(true){const{done,value}=await buildReader.read();if(done)break;buildBuffer+=decoder.decode(value,{stream:true});const lines=buildBuffer.split('\\n\\n');buildBuffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='success'){buildSuccess=true;setProgressText('构建完成，开始上传...');}else if(data.type==='error'){throw new Error(\"\\u6784\\u5EFA\\u5931\\u8D25: \".concat(data.message));}}catch(e){console.error('解析构建SSE数据失败:',e);}}}}if(!buildSuccess){throw new Error('构建未完成');}// 第二步：上传到OSS\nsetProgressPercent(0);// 重置进度为0，开始上传\nsetFileUploadStatus(new Map());// 清空文件状态\nconst uploadApi=uploadAsZip?'upload-zip-stream':'upload-stream';const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/\").concat(uploadApi),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,path:project.path,channelId:'default',// 使用默认渠道ID\nenv})});if(!response.ok){throw new Error(\"HTTP \".concat(response.status));}const reader=(_response$body2=response.body)===null||_response$body2===void 0?void 0:_response$body2.getReader();if(!reader){throw new Error('无法获取上传响应流');}let buffer='';while(true){const{done,value}=await reader.read();if(done)break;buffer+=decoder.decode(value,{stream:true});const lines=buffer.split('\\n\\n');buffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='start'){setProgressText(data.message);}else if(data.type==='compressing'){setProgressText(data.message);setProgressPercent(data.progress||0);}else if(data.type==='compressed'){setProgressText(data.message);setProgressPercent(10);// 压缩完成后设为10%，为上传预留空间\n}else if(data.type==='bucket_start'){setProgressText(\"\".concat(data.bucketIndex,\"/\").concat(data.totalBuckets,\": \").concat(data.message));setProgressPercent(0);// 每个bucket从0开始\n}else if(data.type==='uploading'){setProgressText(\"\\u6B63\\u5728\\u4E0A\\u4F20\\u5230 \".concat(data.bucket,\"...\"));setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploading',message:'正在上传...'})));setProgressPercent(data.bucketProgress||data.progress);// 使用bucket进度\n}else if(data.type==='uploaded'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploaded',message:'✅ 上传成功'})));setProgressPercent(data.bucketProgress||data.progress);}else if(data.type==='failed'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'failed',message:\"\\u274C \\u4E0A\\u4F20\\u5931\\u8D25: \".concat(data.error)})));setProgressPercent(data.bucketProgress||data.progress);}else if(data.type==='bucket_complete'){setProgressText(\"\".concat(data.bucket,\" \\u4E0A\\u4F20\\u5B8C\\u6210 (\").concat(data.bucketIndex,\"/\").concat(data.totalBuckets,\")\"));// 保持当前进度，不重置\n}else if(data.type==='complete'){setProgressPercent(100);setProgressText('✅ 上传成功');message.success(\"\\u2705 \\u4E0A\\u4F20\\u6210\\u529F: \".concat(selectedProject));setTimeout(()=>setProgressModalVisible(false),2000);}else if(data.type==='error'){setProgressText('❌ 上传失败');message.error(\"\\u274C \\u4E0A\\u4F20\\u5931\\u8D25: \".concat(data.message));setTimeout(()=>setProgressModalVisible(false),3000);}}catch(e){console.error('解析SSE数据失败:',e);}}}}}catch(error){setProgressText('❌ 操作失败');message.error(\"\\u274C \\u64CD\\u4F5C\\u5931\\u8D25: \".concat(error.message));setTimeout(()=>setProgressModalVisible(false),3000);}};const executeUpload=async(channelId,env)=>{const project=projects.find(p=>p.name===selectedProject);if(!project){message.error('项目未找到');return;}setUploadModalVisible(false);setCurrentOperation('upload');setProgressTitle(\"\\u6784\\u5EFA\\u5E76\\u4E0A\\u4F20: \".concat(selectedProject,\" (\").concat(channelId,\" - \").concat(env==='dev'?'开发':'生产',\")\"));setProgressPercent(0);setProgressText('准备构建...');setProgressLogs([]);setFileUploadStatus(new Map());// 清空文件状态\nsetProgressModalVisible(true);try{var _buildResponse$body2,_response$body3;// 第一步：构建项目\nsetProgressText('正在构建项目...');const buildResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/build-stream\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,channel:channelId})});if(!buildResponse.ok){throw new Error(\"\\u6784\\u5EFA\\u8BF7\\u6C42\\u5931\\u8D25: HTTP \".concat(buildResponse.status));}const buildReader=(_buildResponse$body2=buildResponse.body)===null||_buildResponse$body2===void 0?void 0:_buildResponse$body2.getReader();if(!buildReader){throw new Error('无法获取构建响应流');}const decoder=new TextDecoder();let buildBuffer='';let buildSuccess=false;while(true){const{done,value}=await buildReader.read();if(done)break;buildBuffer+=decoder.decode(value,{stream:true});const lines=buildBuffer.split('\\n\\n');buildBuffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='success'){buildSuccess=true;setProgressText('构建完成，开始上传...');}else if(data.type==='error'){throw new Error(\"\\u6784\\u5EFA\\u5931\\u8D25: \".concat(data.message));}}catch(e){console.error('解析构建SSE数据失败:',e);}}}}if(!buildSuccess){throw new Error('构建未完成');}// 第二步：上传到OSS\nsetProgressPercent(0);// 重置进度为0，开始上传\nsetFileUploadStatus(new Map());// 清空文件状态\nconst uploadApi=uploadAsZip?'upload-zip-stream':'upload-stream';const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5178',\"/api/\").concat(uploadApi),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectName:selectedProject,path:project.path,channelId,env})});if(!response.ok){throw new Error(\"HTTP \".concat(response.status));}const reader=(_response$body3=response.body)===null||_response$body3===void 0?void 0:_response$body3.getReader();if(!reader){throw new Error('无法获取上传响应流');}let buffer='';while(true){const{done,value}=await reader.read();if(done)break;buffer+=decoder.decode(value,{stream:true});const lines=buffer.split('\\n\\n');buffer=lines.pop()||'';for(const line of lines){if(line.startsWith('data: ')){try{const data=JSON.parse(line.slice(6));setProgressLogs(prev=>[...prev,data.message]);if(data.type==='start'){setProgressText(data.message);}else if(data.type==='compressing'){setProgressText(data.message);setProgressPercent(data.progress||0);}else if(data.type==='compressed'){setProgressText(data.message);setProgressPercent(10);// 压缩完成后设为10%，为上传预留空间\n}else if(data.type==='bucket_start'){setProgressText(\"\".concat(data.bucketIndex,\"/\").concat(data.totalBuckets,\": \").concat(data.message));setProgressPercent(0);// 每个bucket从0开始\n}else if(data.type==='uploading'){setProgressText(\"\\u6B63\\u5728\\u4E0A\\u4F20\\u5230 \".concat(data.bucket,\"...\"));setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploading',message:'正在上传...'})));setProgressPercent(data.bucketProgress||data.progress);// 使用bucket进度\n}else if(data.type==='uploaded'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'uploaded',message:'✅ 上传成功'})));setProgressPercent(data.bucketProgress||data.progress);}else if(data.type==='failed'){setFileUploadStatus(prev=>new Map(prev.set(data.file,{status:'failed',message:\"\\u274C \\u4E0A\\u4F20\\u5931\\u8D25: \".concat(data.error)})));setProgressPercent(data.bucketProgress||data.progress);}else if(data.type==='bucket_complete'){setProgressText(\"\".concat(data.bucket,\" \\u4E0A\\u4F20\\u5B8C\\u6210 (\").concat(data.bucketIndex,\"/\").concat(data.totalBuckets,\")\"));// 保持当前进度，不重置\n}else if(data.type==='complete'){setProgressPercent(100);setProgressText('✅ 上传成功');message.success(\"\\u2705 \\u4E0A\\u4F20\\u6210\\u529F: \".concat(selectedProject));setTimeout(()=>setProgressModalVisible(false),2000);}else if(data.type==='error'){setProgressText('❌ 上传失败');message.error(\"\\u274C \\u4E0A\\u4F20\\u5931\\u8D25: \".concat(data.message));setTimeout(()=>setProgressModalVisible(false),3000);}}catch(e){console.error('解析SSE数据失败:',e);}}}}}catch(error){setProgressText('❌ 操作失败');message.error(\"\\u274C \\u64CD\\u4F5C\\u5931\\u8D25: \".concat(error.message));setTimeout(()=>setProgressModalVisible(false),3000);}};const handleScanProjects=async()=>{await scanProjects();message.success('项目扫描完成');};return/*#__PURE__*/_jsxs(\"div\",{className:\"projects-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"projects-header\",children:[/*#__PURE__*/_jsx(Title,{level:1,children:\"\\uD83D\\uDCBC \\u9879\\u76EE\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(Text,{className:\"projects-subtitle\",children:\"\\u7BA1\\u7406\\u60A8\\u7684\\u5F00\\u53D1\\u9879\\u76EE\"}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(ReloadOutlined,{}),onClick:handleScanProjects,loading:isLoading,children:\"\\u626B\\u63CF\\u9879\\u76EE\"}),/*#__PURE__*/_jsx(Button,{type:\"default\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),children:\"\\u65B0\\u5EFA\\u9879\\u76EE\"})]})]}),/*#__PURE__*/_jsx(Card,{className:\"stats-section\",children:/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u9879\\u76EE\\u603B\\u6570\",value:projectStats.total,prefix:/*#__PURE__*/_jsx(FolderOpenOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u6D3B\\u8DC3\\u9879\\u76EE\",value:projectStats.active,prefix:/*#__PURE__*/_jsx(FireOutlined,{}),valueStyle:{color:'#fa8c16'}})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u5DF2\\u5B8C\\u6210\",value:projectStats.completed,prefix:/*#__PURE__*/_jsx(CheckCircleOutlined,{}),valueStyle:{color:'#52c41a'}})})}),/*#__PURE__*/_jsx(Col,{xs:24,sm:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"stat-card\",children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u5DF2\\u6682\\u505C\",value:projectStats.paused,prefix:/*#__PURE__*/_jsx(PauseCircleOutlined,{}),valueStyle:{color:'#bfbfbf'}})})})]})}),/*#__PURE__*/_jsxs(Row,{gutter:[24,24],children:[/*#__PURE__*/_jsx(Col,{xs:24,lg:16,children:/*#__PURE__*/_jsxs(Card,{title:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(FireOutlined,{}),\"\\u6700\\u8FD1\\u9879\\u76EE\"]}),className:\"recent-projects-section\",children:[/*#__PURE__*/_jsx(List,{loading:isLoading,dataSource:recentProjects,renderItem:project=>/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Tooltip,{title:\"Git Pull\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(DownOutlined,{}),onClick:()=>handleGitPull(project.name)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Git Push\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(UpOutlined,{}),onClick:()=>handleGitPush(project.name)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u6784\\u5EFA\\u9879\\u76EE\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(BuildOutlined,{}),onClick:()=>handleBuild(project.name)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u4E0A\\u4F20\\u5230OSS\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(CloudUploadOutlined,{}),onClick:()=>handleUpload(project.name)})})],children:/*#__PURE__*/_jsx(List.Item.Meta,{avatar:/*#__PURE__*/_jsx(Avatar,{icon:/*#__PURE__*/_jsx(FolderOpenOutlined,{})}),title:/*#__PURE__*/_jsx(\"strong\",{children:project.name}),description:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"small\",children:[/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6700\\u540E\\u66F4\\u65B0: \",formatRelativeTime(project.lastCommitTime||'')]}),project.status&&/*#__PURE__*/_jsxs(Space,{size:\"small\",children:[project.status.modified>0&&/*#__PURE__*/_jsxs(Tag,{color:\"orange\",children:[\"\\uD83D\\uDCDD \",project.status.modified,\" \\u5DF2\\u4FEE\\u6539\"]}),project.status.added>0&&/*#__PURE__*/_jsxs(Tag,{color:\"green\",children:[\"\\u2795 \",project.status.added,\" \\u5DF2\\u6DFB\\u52A0\"]}),project.status.deleted>0&&/*#__PURE__*/_jsxs(Tag,{color:\"red\",children:[\"\\u2796 \",project.status.deleted,\" \\u5DF2\\u5220\\u9664\"]}),project.status.modified===0&&project.status.added===0&&project.status.deleted===0&&/*#__PURE__*/_jsx(Tag,{color:\"default\",children:\"\\u2705 \\u65E0\\u53D8\\u5316\"})]})]})})})}),recentProjects.length===0&&!isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u6682\\u65E0\\u9879\\u76EE\\u6570\\u636E\"})})]})}),/*#__PURE__*/_jsx(Col,{xs:24,lg:8,children:/*#__PURE__*/_jsx(Card,{title:\"\\uD83D\\uDCC2 \\u9879\\u76EE\\u5206\\u7C7B\",className:\"categories-section\",children:/*#__PURE__*/_jsx(List,{dataSource:projectCategories,renderItem:category=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsx(Card,{className:\"category-card\",style:{borderLeft:\"4px solid \".concat(category.color)},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Avatar,{icon:category.icon,style:{backgroundColor:category.color}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:category.name}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[category.count,\" \\u4E2A\\u9879\\u76EE\"]})]})]})})})})})})]}),/*#__PURE__*/_jsx(Modal,{title:\"\\u6784\\u5EFA\\u9879\\u76EE: \".concat(selectedProject),open:buildModalVisible,onCancel:()=>setBuildModalVisible(false),footer:null,width:600,children:ossLoading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:'24px'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:\"\\u6B63\\u5728\\u52A0\\u8F7D\\u6E20\\u9053\\u914D\\u7F6E...\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u9009\\u62E9\\u6784\\u5EFA\\u6E20\\u9053:\"})}),channels!==null&&channels!==void 0&&channels.channels&&Object.keys(channels.channels).length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'12px'},children:Object.entries(channels.channels).map(_ref=>{let[channelId,channelConfig]=_ref;return/*#__PURE__*/_jsx(Card,{hoverable:true,onClick:()=>executeBuild(channelId),style:{cursor:'pointer'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:channelConfig.name||channelId}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"\\u6E20\\u9053ID: \",channelId]})]}),/*#__PURE__*/_jsx(BuildOutlined,{style:{fontSize:'20px',color:'#1890ff'}})]})},channelId);})}):/*#__PURE__*/_jsx(Alert,{message:\"\\u672A\\u627E\\u5230\\u6E20\\u9053\\u914D\\u7F6E\",description:\"\\u8BF7\\u5148\\u914D\\u7F6E\\u9879\\u76EE\\u7684\\u6E20\\u9053\\u4FE1\\u606F\",type:\"warning\",showIcon:true})]})}),/*#__PURE__*/_jsx(Modal,{title:\"\\u4E0A\\u4F20\\u5230OSS: \".concat(selectedProject),open:uploadModalVisible,onCancel:()=>setUploadModalVisible(false),footer:null,width:600,children:ossLoading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:'24px'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:\"\\u6B63\\u5728\\u52A0\\u8F7DOSS\\u914D\\u7F6E...\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u4E0A\\u4F20\\u9009\\u9879:\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(Checkbox,{checked:uploadAsZip,onChange:e=>setUploadAsZip(e.target.checked),children:\"\\uD83D\\uDCE6 \\u4E0A\\u4F20\\u4E3A\\u538B\\u7F29\\u5305 (\\u5355\\u4E2AZIP\\u6587\\u4EF6)\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginTop:'4px'},children:uploadAsZip?'将整个build目录压缩成ZIP文件后上传':'逐个上传build目录中的所有文件'})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u9009\\u62E9\\u4E0A\\u4F20\\u6E20\\u9053\\u548C\\u73AF\\u5883:\"})}),channels!==null&&channels!==void 0&&channels.channels&&Object.keys(channels.channels).length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'12px'},children:Object.entries(channels.channels).map(_ref2=>{let[channelId,channelConfig]=_ref2;return/*#__PURE__*/_jsxs(Card,{style:{marginBottom:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'12px'},children:channelConfig.name||channelId}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(Button,{type:\"default\",icon:/*#__PURE__*/_jsx(CloudUploadOutlined,{}),onClick:()=>executeUpload(channelId,'dev'),style:{flex:1,background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none'},children:\"\\uD83D\\uDCE6 \\u5F00\\u53D1\\u73AF\\u5883\"}),/*#__PURE__*/_jsx(Button,{type:\"default\",icon:/*#__PURE__*/_jsx(CloudUploadOutlined,{}),onClick:()=>executeUpload(channelId,'prod'),style:{flex:1,background:'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',color:'white',border:'none'},children:\"\\uD83D\\uDE80 \\u751F\\u4EA7\\u73AF\\u5883\"})]})]},channelId);})}):/*#__PURE__*/_jsx(Alert,{message:\"\\u672A\\u627E\\u5230\\u6E20\\u9053\\u914D\\u7F6E\",description:\"\\u8BF7\\u5148\\u914D\\u7F6E\\u9879\\u76EE\\u7684\\u6E20\\u9053\\u4FE1\\u606F\",type:\"warning\",showIcon:true})]})}),/*#__PURE__*/_jsx(Modal,{title:\"\\u4E0A\\u4F20\\u5230OSS: \".concat(selectedProject),open:simpleUploadModalVisible,onCancel:()=>setSimpleUploadModalVisible(false),footer:null,width:500,children:ossLoading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:'24px'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:\"\\u6B63\\u5728\\u52A0\\u8F7DOSS\\u914D\\u7F6E...\"})]}):ossConfig?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u4E0A\\u4F20\\u9009\\u9879:\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(Checkbox,{checked:uploadAsZip,onChange:e=>setUploadAsZip(e.target.checked),children:\"\\uD83D\\uDCE6 \\u4E0A\\u4F20\\u4E3A\\u538B\\u7F29\\u5305 (\\u5355\\u4E2AZIP\\u6587\\u4EF6)\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',marginTop:'4px'},children:uploadAsZip?'将整个build目录压缩成ZIP文件后上传':'逐个上传build目录中的所有文件'})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u9009\\u62E9\\u4E0A\\u4F20\\u73AF\\u5883:\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',flexDirection:'column'},children:[((_ossConfig$buckets=ossConfig.buckets)===null||_ossConfig$buckets===void 0?void 0:_ossConfig$buckets.dev)&&/*#__PURE__*/_jsx(Card,{hoverable:true,onClick:()=>executeSimpleUpload('dev'),style:{cursor:'pointer'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:\"\\uD83D\\uDCE6 \\u5F00\\u53D1\\u73AF\\u5883\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"Bucket: \",typeof ossConfig.buckets.dev==='string'?ossConfig.buckets.dev:ossConfig.buckets.dev.name]})]}),/*#__PURE__*/_jsx(CloudUploadOutlined,{style:{fontSize:'20px',color:'#1890ff'}})]})}),((_ossConfig$buckets2=ossConfig.buckets)===null||_ossConfig$buckets2===void 0?void 0:_ossConfig$buckets2.prod)&&/*#__PURE__*/_jsx(Card,{hoverable:true,onClick:()=>executeSimpleUpload('prod'),style:{cursor:'pointer'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:\"\\uD83D\\uDE80 \\u751F\\u4EA7\\u73AF\\u5883\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"Bucket: \",Array.isArray(ossConfig.buckets.prod)?ossConfig.buckets.prod.map(b=>b.name||b).join(' + '):typeof ossConfig.buckets.prod==='string'?ossConfig.buckets.prod:ossConfig.buckets.prod.name]})]}),/*#__PURE__*/_jsx(CloudUploadOutlined,{style:{fontSize:'20px',color:'#1890ff'}})]})})]}),!((_ossConfig$buckets3=ossConfig.buckets)!==null&&_ossConfig$buckets3!==void 0&&_ossConfig$buckets3.dev)&&!((_ossConfig$buckets4=ossConfig.buckets)!==null&&_ossConfig$buckets4!==void 0&&_ossConfig$buckets4.prod)&&/*#__PURE__*/_jsx(Alert,{message:\"\\u672A\\u627E\\u5230bucket\\u914D\\u7F6E\",description:\"\\u8BF7\\u5148\\u5728oss-connection-config.json\\u4E2D\\u914D\\u7F6E\\u9879\\u76EE\\u7684bucket\\u4FE1\\u606F\",type:\"warning\",showIcon:true})]}):/*#__PURE__*/_jsx(Alert,{message:\"\\u672A\\u627E\\u5230OSS\\u914D\\u7F6E\",description:\"\\u8BF7\\u5148\\u5728oss-connection-config.json\\u4E2D\\u914D\\u7F6E\\u9879\\u76EE\\u4FE1\\u606F\",type:\"warning\",showIcon:true})}),/*#__PURE__*/_jsx(Modal,{title:progressTitle,open:progressModalVisible,footer:null,closable:false,width:700,children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'20px'},children:[currentOperation==='upload'&&/*#__PURE__*/_jsx(Progress,{type:\"circle\",percent:progressPercent,status:progressText.includes('失败')?'exception':progressText.includes('成功')?'success':'active',style:{marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'bold'},children:progressText})]}),progressLogs.length>0&&/*#__PURE__*/_jsxs(\"div\",{ref:logsRef,style:{maxHeight:'300px',overflowY:'auto',background:'#1e1e1e',color:'#00ff00',padding:'15px',borderRadius:'8px',fontFamily:'Monaco, Menlo, \"Ubuntu Mono\", monospace',fontSize:'12px',whiteSpace:'pre-wrap'},children:[progressLogs.map((log,index)=>/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'4px'},children:log},index)),Array.from(fileUploadStatus.entries()).map(_ref3=>{let[fileName,status]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'4px',color:status.status==='uploading'?'#ffa500':// 橙色：正在上传\nstatus.status==='uploaded'?'#00ff00':// 绿色：上传成功\n'#ff4444'// 红色：上传失败\n},children:[fileName,\": \",status.message]},fileName);})]})]})})]});};export default Projects;","map":{"version":3,"names":["React","useState","useEffect","useRef","Row","Col","Card","Statistic","Button","List","Avatar","Space","Typography","Tag","message","Modal","Select","Tooltip","Progress","Alert","Checkbox","FolderOpenOutlined","FireOutlined","CheckCircleOutlined","PauseCircleOutlined","GlobalOutlined","SettingOutlined","MobileOutlined","DownOutlined","UpOutlined","BuildOutlined","CloudUploadOutlined","ReloadOutlined","PlusOutlined","LoadingOutlined","useProjects","useOSSConfig","gitApi","jsx","_jsx","jsxs","_jsxs","Title","Text","Option","Projects","_ossConfig$buckets","_ossConfig$buckets2","_ossConfig$buckets3","_ossConfig$buckets4","projects","isLoading","loadProjects","scanProjects","ossConfig","channels","ossLoading","loadOSSConfig","recentProjects","setRecentProjects","selectedProject","setSelectedProject","buildModalVisible","setBuildModalVisible","uploadModalVisible","setUploadModalVisible","simpleUploadModalVisible","setSimpleUploadModalVisible","gitModalVisible","setGitModalVisible","progressModalVisible","setProgressModalVisible","progressTitle","setProgressTitle","progressPercent","setProgressPercent","progressText","setProgressText","progressLogs","setProgressLogs","fileUploadStatus","setFileUploadStatus","Map","currentOperation","setCurrentOperation","selectedChannel","setSelectedChannel","selectedEnv","setSelectedEnv","uploadAsZip","setUploadAsZip","logsRef","current","scrollTop","scrollHeight","projectStats","total","active","completed","paused","projectCategories","type","name","count","icon","color","length","sorted","sort","a","b","Date","lastCommitTime","getTime","slice","formatRelativeTime","dateString","date","now","diffMs","diffHours","Math","floor","diffDays","concat","toLocaleDateString","isResponseSuccess","response","ok","success","handleGitPull","projectName","project","find","p","error","pull","path","Error","setTimeout","handleGitPush","push","handleBuild","executeBuild","channel","_response$body","fetch","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","status","reader","getReader","decoder","TextDecoder","buffer","done","value","read","decode","stream","lines","split","pop","line","startsWith","data","parse","prev","e","console","handleUpload","Promise","resolve","Object","keys","executeSimpleUpload","_buildResponse$body","_response$body2","buildResponse","buildReader","buildBuffer","buildSuccess","uploadApi","channelId","progress","bucketIndex","totalBuckets","bucket","set","file","bucketProgress","executeUpload","_buildResponse$body2","_response$body3","handleScanProjects","className","children","level","onClick","loading","gutter","xs","sm","md","title","prefix","valueStyle","lg","dataSource","renderItem","Item","actions","Meta","avatar","description","direction","size","modified","added","deleted","category","style","borderLeft","backgroundColor","fontWeight","open","onCancel","footer","width","textAlign","padding","fontSize","marginTop","marginBottom","strong","display","gap","entries","map","_ref","channelConfig","hoverable","cursor","justifyContent","alignItems","showIcon","checked","onChange","target","_ref2","flex","background","border","flexDirection","buckets","dev","prod","Array","isArray","join","closable","percent","includes","ref","maxHeight","overflowY","borderRadius","fontFamily","whiteSpace","log","index","from","_ref3","fileName"],"sources":["/Users/maiyou001/.ai-assistant/gui/frontend/src/pages/Projects.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Row, Col, Card, Statistic, Button, List, Avatar, Space, Typography,\n  Tag, message, Modal, Select, Input, Form, Tooltip, Progress, Alert, Checkbox\n} from 'antd';\nimport {\n  FolderOpenOutlined,\n  FireOutlined,\n  CheckCircleOutlined,\n  PauseCircleOutlined,\n  GlobalOutlined,\n  SettingOutlined,\n  MobileOutlined,\n  DownOutlined,\n  UpOutlined,\n  BuildOutlined,\n  CloudUploadOutlined,\n  ReloadOutlined,\n  PlusOutlined,\n  LoadingOutlined\n} from '@ant-design/icons';\nimport { useProjects, useOSSConfig } from '../api';\nimport { gitApi, buildApi, ossApi } from '../api/client';\nimport './Projects.css';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\ninterface Project {\n  name: string;\n  path: string;\n  lastCommitTime?: string;\n  status?: {\n    modified: number;\n    added: number;\n    deleted: number;\n  };\n}\n\nconst Projects: React.FC = () => {\n  const { projects, isLoading, loadProjects, scanProjects } = useProjects();\n  const { ossConfig, channels, isLoading: ossLoading, loadOSSConfig } = useOSSConfig();\n  const [recentProjects, setRecentProjects] = useState<Project[]>([]);\n  const [selectedProject, setSelectedProject] = useState<string>('');\n  const [buildModalVisible, setBuildModalVisible] = useState(false);\n  const [uploadModalVisible, setUploadModalVisible] = useState(false);\n  const [simpleUploadModalVisible, setSimpleUploadModalVisible] = useState(false);\n  const [gitModalVisible, setGitModalVisible] = useState(false);\n  const [progressModalVisible, setProgressModalVisible] = useState(false);\n  const [progressTitle, setProgressTitle] = useState('');\n  const [progressPercent, setProgressPercent] = useState(0);\n  const [progressText, setProgressText] = useState('');\n  const [progressLogs, setProgressLogs] = useState<string[]>([]);\n  const [fileUploadStatus, setFileUploadStatus] = useState<Map<string, { status: 'uploading' | 'uploaded' | 'failed', message: string }>>(new Map());\n  const [currentOperation, setCurrentOperation] = useState<'git-pull' | 'git-push' | 'build' | 'upload' | null>(null);\n  const [selectedChannel, setSelectedChannel] = useState<string>('');\n  const [selectedEnv, setSelectedEnv] = useState<'dev' | 'prod'>('dev');\n  const [uploadAsZip, setUploadAsZip] = useState(false);\n\n  // 日志区域自动滚动\n  const logsRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (logsRef.current) {\n      logsRef.current.scrollTop = logsRef.current.scrollHeight;\n    }\n  }, [progressLogs, fileUploadStatus]);\n\n  // 项目统计数据\n  const projectStats = {\n    total: 26,\n    active: 12,\n    completed: 8,\n    paused: 6\n  };\n\n  // 项目分类数据\n  const projectCategories = [\n    { type: 'frontend', name: '前端项目', count: 15, icon: <GlobalOutlined />, color: '#1890ff' },\n    { type: 'backend', name: '后端项目', count: 8, icon: <SettingOutlined />, color: '#52c41a' },\n    { type: 'mobile', name: '移动端', count: 3, icon: <MobileOutlined />, color: '#fa8c16' }\n  ];\n\n  useEffect(() => {\n    loadProjects();\n  }, [loadProjects]);\n\n  useEffect(() => {\n    if (projects && projects.length > 0) {\n      // 按最后提交时间排序，取最近6个\n      const sorted = [...projects].sort((a: any, b: any) =>\n        new Date(b.lastCommitTime || 0).getTime() - new Date(a.lastCommitTime || 0).getTime()\n      );\n      setRecentProjects(sorted.slice(0, 6));\n    }\n  }, [projects]);\n\n  // 格式化相对时间\n  const formatRelativeTime = (dateString: string) => {\n    if (!dateString) return '未知';\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffDays = Math.floor(diffHours / 24);\n\n    if (diffHours < 1) return '刚刚';\n    if (diffHours < 24) return `${diffHours}小时前`;\n    if (diffDays < 7) return `${diffDays}天前`;\n    return date.toLocaleDateString('zh-CN');\n  };\n\n  // 检查API响应是否成功\n  const isResponseSuccess = (response: any): boolean => {\n    return response.ok === true || response.success === true;\n  };\n\n  // 处理项目操作\n  const handleGitPull = async (projectName: string) => {\n    const project = projects.find(p => p.name === projectName);\n    if (!project) {\n      message.error('项目未找到');\n      return;\n    }\n\n    setCurrentOperation('git-pull');\n    setProgressTitle(`拉取项目: ${projectName}`);\n    setProgressPercent(0);\n    setProgressText('正在拉取...');\n    setProgressLogs([]);\n    setProgressModalVisible(true);\n\n    try {\n      const response = await gitApi.pull(project.path);\n      if (isResponseSuccess(response)) {\n        setProgressPercent(100);\n        setProgressText('✅ 拉取成功');\n        message.success(`✅ 拉取成功: ${projectName}`);\n        // 重新加载项目列表以更新状态\n        await loadProjects();\n      } else {\n        throw new Error(response.error || '拉取失败');\n      }\n    } catch (error: any) {\n      setProgressText('❌ 拉取失败');\n      message.error(`❌ 拉取失败: ${error.message}`);\n    } finally {\n      setTimeout(() => setProgressModalVisible(false), 2000);\n    }\n  };\n\n  const handleGitPush = async (projectName: string) => {\n    const project = projects.find(p => p.name === projectName);\n    if (!project) {\n      message.error('项目未找到');\n      return;\n    }\n\n    setCurrentOperation('git-push');\n    setProgressTitle(`推送项目: ${projectName}`);\n    setProgressPercent(0);\n    setProgressText('正在推送...');\n    setProgressLogs([]);\n    setProgressModalVisible(true);\n\n    try {\n      const response = await gitApi.push(project.path);\n      if (isResponseSuccess(response)) {\n        setProgressPercent(100);\n        setProgressText('✅ 推送成功');\n        message.success(`✅ 推送成功: ${projectName}`);\n        // 重新加载项目列表以更新状态\n        await loadProjects();\n      } else {\n        throw new Error(response.error || '推送失败');\n      }\n    } catch (error: any) {\n      setProgressText('❌ 推送失败');\n      message.error(`❌ 推送失败: ${error.message}`);\n    } finally {\n      setTimeout(() => setProgressModalVisible(false), 2000);\n    }\n  };\n\n  const handleBuild = async (projectName: string) => {\n    setSelectedProject(projectName);\n    // 加载OSS配置以获取渠道信息\n    await loadOSSConfig(projectName);\n    setBuildModalVisible(true);\n  };\n\n  const executeBuild = async (channel: string) => {\n    setBuildModalVisible(false);\n    setCurrentOperation('build');\n    setProgressTitle(`构建项目: ${selectedProject} (${channel})`);\n    setProgressPercent(0);\n    setProgressText('准备构建...');\n    setProgressLogs([]);\n    setFileUploadStatus(new Map()); // 清空文件状态\n    setProgressModalVisible(true);\n\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/build-stream`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ projectName: selectedProject, channel })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n\n      const reader = response.body?.getReader();\n      if (!reader) {\n        throw new Error('无法获取响应流');\n      }\n\n      const decoder = new TextDecoder();\n      let buffer = '';\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        buffer += decoder.decode(value, { stream: true });\n        const lines = buffer.split('\\n\\n');\n        buffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'log' || data.type === 'stdout') {\n                setProgressText(data.message);\n                // 构建过程中不显示进度条进度\n              } else if (data.type === 'stderr') {\n                setProgressText(`⚠️ ${data.message}`);\n              } else if (data.type === 'success') {\n                setProgressPercent(100);\n                setProgressText('✅ 构建成功');\n                message.success(`✅ 构建成功: ${selectedProject}`);\n                setTimeout(() => setProgressModalVisible(false), 2000);\n              } else if (data.type === 'error') {\n                setProgressText('❌ 构建失败');\n                message.error(`❌ 构建失败: ${data.message}`);\n                setTimeout(() => setProgressModalVisible(false), 3000);\n              }\n            } catch (e) {\n              console.error('解析SSE数据失败:', e);\n            }\n          }\n        }\n      }\n    } catch (error: any) {\n      setProgressText('❌ 构建失败');\n      message.error(`❌ 构建失败: ${error.message}`);\n      setTimeout(() => setProgressModalVisible(false), 3000);\n    }\n  };\n\n  const handleUpload = async (projectName: string) => {\n    setSelectedProject(projectName);\n    // 加载OSS配置\n    await loadOSSConfig(projectName);\n\n    // 等待一小段时间确保状态更新\n    await new Promise(resolve => setTimeout(resolve, 100));\n\n    // 检查是否有渠道配置\n    if (channels && channels.channels && Object.keys(channels.channels).length > 0) {\n      // 有渠道配置，显示渠道选择模态框\n      setUploadModalVisible(true);\n    } else {\n      // 没有渠道配置，显示简单环境选择模态框\n      setSimpleUploadModalVisible(true);\n    }\n  };\n\n  const executeSimpleUpload = async (env: 'dev' | 'prod') => {\n    const project = projects.find(p => p.name === selectedProject);\n    if (!project) {\n      message.error('项目未找到');\n      return;\n    }\n\n    setSimpleUploadModalVisible(false);\n    setCurrentOperation('upload');\n    setProgressTitle(`构建并上传: ${selectedProject} (${env === 'dev' ? '开发' : '生产'}环境)`);\n    setProgressPercent(0);\n    setProgressText('准备构建...');\n    setProgressLogs([]);\n    setProgressModalVisible(true);\n\n    try {\n      // 第一步：构建项目\n      setProgressText('正在构建项目...');\n      const buildResponse = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/build-stream`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ projectName: selectedProject })\n      });\n\n      if (!buildResponse.ok) {\n        throw new Error(`构建请求失败: HTTP ${buildResponse.status}`);\n      }\n\n      const buildReader = buildResponse.body?.getReader();\n      if (!buildReader) {\n        throw new Error('无法获取构建响应流');\n      }\n\n      const decoder = new TextDecoder();\n      let buildBuffer = '';\n      let buildSuccess = false;\n\n      while (true) {\n        const { done, value } = await buildReader.read();\n        if (done) break;\n\n        buildBuffer += decoder.decode(value, { stream: true });\n        const lines = buildBuffer.split('\\n\\n');\n        buildBuffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'success') {\n                buildSuccess = true;\n                setProgressText('构建完成，开始上传...');\n              } else if (data.type === 'error') {\n                throw new Error(`构建失败: ${data.message}`);\n              }\n            } catch (e) {\n              console.error('解析构建SSE数据失败:', e);\n            }\n          }\n        }\n      }\n\n      if (!buildSuccess) {\n        throw new Error('构建未完成');\n      }\n\n      // 第二步：上传到OSS\n      setProgressPercent(0); // 重置进度为0，开始上传\n      setFileUploadStatus(new Map()); // 清空文件状态\n      const uploadApi = uploadAsZip ? 'upload-zip-stream' : 'upload-stream';\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/${uploadApi}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          projectName: selectedProject,\n          path: project.path,\n          channelId: 'default', // 使用默认渠道ID\n          env\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n\n      const reader = response.body?.getReader();\n      if (!reader) {\n        throw new Error('无法获取上传响应流');\n      }\n\n      let buffer = '';\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        buffer += decoder.decode(value, { stream: true });\n        const lines = buffer.split('\\n\\n');\n        buffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'start') {\n                setProgressText(data.message);\n              } else if (data.type === 'compressing') {\n                setProgressText(data.message);\n                setProgressPercent(data.progress || 0);\n              } else if (data.type === 'compressed') {\n                setProgressText(data.message);\n                setProgressPercent(10); // 压缩完成后设为10%，为上传预留空间\n              } else if (data.type === 'bucket_start') {\n                setProgressText(`${data.bucketIndex}/${data.totalBuckets}: ${data.message}`);\n                setProgressPercent(0); // 每个bucket从0开始\n              } else if (data.type === 'uploading') {\n                setProgressText(`正在上传到 ${data.bucket}...`);\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploading', message: '正在上传...' })));\n                setProgressPercent(data.bucketProgress || data.progress); // 使用bucket进度\n              } else if (data.type === 'uploaded') {\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploaded', message: '✅ 上传成功' })));\n                setProgressPercent(data.bucketProgress || data.progress);\n              } else if (data.type === 'failed') {\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'failed', message: `❌ 上传失败: ${data.error}` })));\n                setProgressPercent(data.bucketProgress || data.progress);\n              } else if (data.type === 'bucket_complete') {\n                setProgressText(`${data.bucket} 上传完成 (${data.bucketIndex}/${data.totalBuckets})`);\n                // 保持当前进度，不重置\n              } else if (data.type === 'complete') {\n                setProgressPercent(100);\n                setProgressText('✅ 上传成功');\n                message.success(`✅ 上传成功: ${selectedProject}`);\n                setTimeout(() => setProgressModalVisible(false), 2000);\n              } else if (data.type === 'error') {\n                setProgressText('❌ 上传失败');\n                message.error(`❌ 上传失败: ${data.message}`);\n                setTimeout(() => setProgressModalVisible(false), 3000);\n              }\n            } catch (e) {\n              console.error('解析SSE数据失败:', e);\n            }\n          }\n        }\n      }\n    } catch (error: any) {\n      setProgressText('❌ 操作失败');\n      message.error(`❌ 操作失败: ${error.message}`);\n      setTimeout(() => setProgressModalVisible(false), 3000);\n    }\n  };\n\n  const executeUpload = async (channelId: string, env: 'dev' | 'prod') => {\n    const project = projects.find(p => p.name === selectedProject);\n    if (!project) {\n      message.error('项目未找到');\n      return;\n    }\n\n    setUploadModalVisible(false);\n    setCurrentOperation('upload');\n    setProgressTitle(`构建并上传: ${selectedProject} (${channelId} - ${env === 'dev' ? '开发' : '生产'})`);\n    setProgressPercent(0);\n    setProgressText('准备构建...');\n    setProgressLogs([]);\n    setFileUploadStatus(new Map()); // 清空文件状态\n    setProgressModalVisible(true);\n\n    try {\n      // 第一步：构建项目\n      setProgressText('正在构建项目...');\n      const buildResponse = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/build-stream`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          projectName: selectedProject,\n          channel: channelId\n        })\n      });\n\n      if (!buildResponse.ok) {\n        throw new Error(`构建请求失败: HTTP ${buildResponse.status}`);\n      }\n\n      const buildReader = buildResponse.body?.getReader();\n      if (!buildReader) {\n        throw new Error('无法获取构建响应流');\n      }\n\n      const decoder = new TextDecoder();\n      let buildBuffer = '';\n      let buildSuccess = false;\n\n      while (true) {\n        const { done, value } = await buildReader.read();\n        if (done) break;\n\n        buildBuffer += decoder.decode(value, { stream: true });\n        const lines = buildBuffer.split('\\n\\n');\n        buildBuffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'success') {\n                buildSuccess = true;\n                setProgressText('构建完成，开始上传...');\n              } else if (data.type === 'error') {\n                throw new Error(`构建失败: ${data.message}`);\n              }\n            } catch (e) {\n              console.error('解析构建SSE数据失败:', e);\n            }\n          }\n        }\n      }\n\n      if (!buildSuccess) {\n        throw new Error('构建未完成');\n      }\n\n      // 第二步：上传到OSS\n      setProgressPercent(0); // 重置进度为0，开始上传\n      setFileUploadStatus(new Map()); // 清空文件状态\n      const uploadApi = uploadAsZip ? 'upload-zip-stream' : 'upload-stream';\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5178'}/api/${uploadApi}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          projectName: selectedProject,\n          path: project.path,\n          channelId,\n          env\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n\n      const reader = response.body?.getReader();\n      if (!reader) {\n        throw new Error('无法获取上传响应流');\n      }\n\n      let buffer = '';\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        buffer += decoder.decode(value, { stream: true });\n        const lines = buffer.split('\\n\\n');\n        buffer = lines.pop() || '';\n\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              setProgressLogs(prev => [...prev, data.message]);\n\n              if (data.type === 'start') {\n                setProgressText(data.message);\n              } else if (data.type === 'compressing') {\n                setProgressText(data.message);\n                setProgressPercent(data.progress || 0);\n              } else if (data.type === 'compressed') {\n                setProgressText(data.message);\n                setProgressPercent(10); // 压缩完成后设为10%，为上传预留空间\n              } else if (data.type === 'bucket_start') {\n                setProgressText(`${data.bucketIndex}/${data.totalBuckets}: ${data.message}`);\n                setProgressPercent(0); // 每个bucket从0开始\n              } else if (data.type === 'uploading') {\n                setProgressText(`正在上传到 ${data.bucket}...`);\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploading', message: '正在上传...' })));\n                setProgressPercent(data.bucketProgress || data.progress); // 使用bucket进度\n              } else if (data.type === 'uploaded') {\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'uploaded', message: '✅ 上传成功' })));\n                setProgressPercent(data.bucketProgress || data.progress);\n              } else if (data.type === 'failed') {\n                setFileUploadStatus(prev => new Map(prev.set(data.file, { status: 'failed', message: `❌ 上传失败: ${data.error}` })));\n                setProgressPercent(data.bucketProgress || data.progress);\n              } else if (data.type === 'bucket_complete') {\n                setProgressText(`${data.bucket} 上传完成 (${data.bucketIndex}/${data.totalBuckets})`);\n                // 保持当前进度，不重置\n              } else if (data.type === 'complete') {\n                setProgressPercent(100);\n                setProgressText('✅ 上传成功');\n                message.success(`✅ 上传成功: ${selectedProject}`);\n                setTimeout(() => setProgressModalVisible(false), 2000);\n              } else if (data.type === 'error') {\n                setProgressText('❌ 上传失败');\n                message.error(`❌ 上传失败: ${data.message}`);\n                setTimeout(() => setProgressModalVisible(false), 3000);\n              }\n            } catch (e) {\n              console.error('解析SSE数据失败:', e);\n            }\n          }\n        }\n      }\n    } catch (error: any) {\n      setProgressText('❌ 操作失败');\n      message.error(`❌ 操作失败: ${error.message}`);\n      setTimeout(() => setProgressModalVisible(false), 3000);\n    }\n  };\n\n  const handleScanProjects = async () => {\n    await scanProjects();\n    message.success('项目扫描完成');\n  };\n\n  return (\n    <div className=\"projects-container\">\n      <div className=\"projects-header\">\n        <Title level={1}>💼 项目管理</Title>\n        <Text className=\"projects-subtitle\">管理您的开发项目</Text>\n        <Space>\n          <Button\n            type=\"primary\"\n            icon={<ReloadOutlined />}\n            onClick={handleScanProjects}\n            loading={isLoading}\n          >\n            扫描项目\n          </Button>\n          <Button type=\"default\" icon={<PlusOutlined />}>\n            新建项目\n          </Button>\n        </Space>\n      </div>\n\n      {/* 项目统计 */}\n      <Card className=\"stats-section\">\n        <Row gutter={[16, 16]}>\n          <Col xs={24} sm={12} md={6}>\n            <Card className=\"stat-card\">\n              <Statistic\n                title=\"项目总数\"\n                value={projectStats.total}\n                prefix={<FolderOpenOutlined />}\n                valueStyle={{ color: '#1890ff' }}\n              />\n            </Card>\n          </Col>\n          <Col xs={24} sm={12} md={6}>\n            <Card className=\"stat-card\">\n              <Statistic\n                title=\"活跃项目\"\n                value={projectStats.active}\n                prefix={<FireOutlined />}\n                valueStyle={{ color: '#fa8c16' }}\n              />\n            </Card>\n          </Col>\n          <Col xs={24} sm={12} md={6}>\n            <Card className=\"stat-card\">\n              <Statistic\n                title=\"已完成\"\n                value={projectStats.completed}\n                prefix={<CheckCircleOutlined />}\n                valueStyle={{ color: '#52c41a' }}\n              />\n            </Card>\n          </Col>\n          <Col xs={24} sm={12} md={6}>\n            <Card className=\"stat-card\">\n              <Statistic\n                title=\"已暂停\"\n                value={projectStats.paused}\n                prefix={<PauseCircleOutlined />}\n                valueStyle={{ color: '#bfbfbf' }}\n              />\n            </Card>\n          </Col>\n        </Row>\n      </Card>\n\n      <Row gutter={[24, 24]}>\n        <Col xs={24} lg={16}>\n          {/* 最近项目 */}\n          <Card\n            title={\n              <Space>\n                <FireOutlined />\n                最近项目\n              </Space>\n            }\n            className=\"recent-projects-section\"\n          >\n            <List\n              loading={isLoading}\n              dataSource={recentProjects}\n              renderItem={(project: Project) => (\n                <List.Item\n                  actions={[\n                    <Tooltip title=\"Git Pull\">\n                      <Button\n                        type=\"text\"\n                        icon={<DownOutlined />}\n                        onClick={() => handleGitPull(project.name)}\n                      />\n                    </Tooltip>,\n                    <Tooltip title=\"Git Push\">\n                      <Button\n                        type=\"text\"\n                        icon={<UpOutlined />}\n                        onClick={() => handleGitPush(project.name)}\n                      />\n                    </Tooltip>,\n                    <Tooltip title=\"构建项目\">\n                      <Button\n                        type=\"text\"\n                        icon={<BuildOutlined />}\n                        onClick={() => handleBuild(project.name)}\n                      />\n                    </Tooltip>,\n                    <Tooltip title=\"上传到OSS\">\n                      <Button\n                        type=\"text\"\n                        icon={<CloudUploadOutlined />}\n                        onClick={() => handleUpload(project.name)}\n                      />\n                    </Tooltip>\n                  ]}\n                >\n                  <List.Item.Meta\n                    avatar={<Avatar icon={<FolderOpenOutlined />} />}\n                    title={<strong>{project.name}</strong>}\n                    description={\n                      <Space direction=\"vertical\" size=\"small\">\n                        <Text type=\"secondary\">\n                          最后更新: {formatRelativeTime(project.lastCommitTime || '')}\n                        </Text>\n                        {project.status && (\n                          <Space size=\"small\">\n                            {project.status.modified > 0 && (\n                              <Tag color=\"orange\">📝 {project.status.modified} 已修改</Tag>\n                            )}\n                            {project.status.added > 0 && (\n                              <Tag color=\"green\">➕ {project.status.added} 已添加</Tag>\n                            )}\n                            {project.status.deleted > 0 && (\n                              <Tag color=\"red\">➖ {project.status.deleted} 已删除</Tag>\n                            )}\n                            {project.status.modified === 0 && project.status.added === 0 && project.status.deleted === 0 && (\n                              <Tag color=\"default\">✅ 无变化</Tag>\n                            )}\n                          </Space>\n                        )}\n                      </Space>\n                    }\n                  />\n                </List.Item>\n              )}\n            />\n            {recentProjects.length === 0 && !isLoading && (\n              <div className=\"empty-state\">\n                <Text type=\"secondary\">暂无项目数据</Text>\n              </div>\n            )}\n          </Card>\n        </Col>\n\n        <Col xs={24} lg={8}>\n          {/* 项目分类 */}\n          <Card title=\"📂 项目分类\" className=\"categories-section\">\n            <List\n              dataSource={projectCategories}\n              renderItem={(category) => (\n                <List.Item>\n                  <Card\n                    className=\"category-card\"\n                    style={{ borderLeft: `4px solid ${category.color}` }}\n                  >\n                    <Space>\n                      <Avatar\n                        icon={category.icon}\n                        style={{ backgroundColor: category.color }}\n                      />\n                      <div>\n                        <div style={{ fontWeight: 'bold' }}>{category.name}</div>\n                        <Text type=\"secondary\">{category.count} 个项目</Text>\n                      </div>\n                    </Space>\n                  </Card>\n                </List.Item>\n              )}\n            />\n          </Card>\n        </Col>\n      </Row>\n\n      {/* 构建选项弹窗 */}\n      <Modal\n        title={`构建项目: ${selectedProject}`}\n        open={buildModalVisible}\n        onCancel={() => setBuildModalVisible(false)}\n        footer={null}\n        width={600}\n      >\n        {ossLoading ? (\n          <div style={{ textAlign: 'center', padding: '20px' }}>\n            <LoadingOutlined style={{ fontSize: '24px' }} />\n            <div style={{ marginTop: '10px' }}>正在加载渠道配置...</div>\n          </div>\n        ) : (\n          <div>\n            <div style={{ marginBottom: '20px' }}>\n              <Text strong>选择构建渠道:</Text>\n            </div>\n            {channels?.channels && Object.keys(channels.channels).length > 0 ? (\n              <div style={{ display: 'grid', gap: '12px' }}>\n                {Object.entries(channels.channels).map(([channelId, channelConfig]: [string, any]) => (\n                  <Card\n                    key={channelId}\n                    hoverable\n                    onClick={() => executeBuild(channelId)}\n                    style={{ cursor: 'pointer' }}\n                  >\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                      <div>\n                        <div style={{ fontWeight: 'bold' }}>{channelConfig.name || channelId}</div>\n                        <div style={{ fontSize: '12px', color: '#666' }}>渠道ID: {channelId}</div>\n                      </div>\n                      <BuildOutlined style={{ fontSize: '20px', color: '#1890ff' }} />\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            ) : (\n              <Alert\n                message=\"未找到渠道配置\"\n                description=\"请先配置项目的渠道信息\"\n                type=\"warning\"\n                showIcon\n              />\n            )}\n          </div>\n        )}\n      </Modal>\n\n      {/* 上传选项弹窗 */}\n      <Modal\n        title={`上传到OSS: ${selectedProject}`}\n        open={uploadModalVisible}\n        onCancel={() => setUploadModalVisible(false)}\n        footer={null}\n        width={600}\n      >\n        {ossLoading ? (\n          <div style={{ textAlign: 'center', padding: '20px' }}>\n            <LoadingOutlined style={{ fontSize: '24px' }} />\n            <div style={{ marginTop: '10px' }}>正在加载OSS配置...</div>\n          </div>\n        ) : (\n          <div>\n            <div style={{ marginBottom: '20px' }}>\n              <Text strong>上传选项:</Text>\n            </div>\n            <div style={{ marginBottom: '20px' }}>\n              <Checkbox\n                checked={uploadAsZip}\n                onChange={(e) => setUploadAsZip(e.target.checked)}\n              >\n                📦 上传为压缩包 (单个ZIP文件)\n              </Checkbox>\n              <div style={{ fontSize: '12px', color: '#666', marginTop: '4px' }}>\n                {uploadAsZip ? '将整个build目录压缩成ZIP文件后上传' : '逐个上传build目录中的所有文件'}\n              </div>\n            </div>\n            <div style={{ marginBottom: '20px' }}>\n              <Text strong>选择上传渠道和环境:</Text>\n            </div>\n            {channels?.channels && Object.keys(channels.channels).length > 0 ? (\n              <div style={{ display: 'grid', gap: '12px' }}>\n                {Object.entries(channels.channels).map(([channelId, channelConfig]: [string, any]) => (\n                  <Card key={channelId} style={{ marginBottom: '8px' }}>\n                    <div style={{ fontWeight: 'bold', marginBottom: '12px' }}>{channelConfig.name || channelId}</div>\n                    <div style={{ display: 'flex', gap: '10px' }}>\n                      <Button\n                        type=\"default\"\n                        icon={<CloudUploadOutlined />}\n                        onClick={() => executeUpload(channelId, 'dev')}\n                        style={{ flex: 1, background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', color: 'white', border: 'none' }}\n                      >\n                        📦 开发环境\n                      </Button>\n                      <Button\n                        type=\"default\"\n                        icon={<CloudUploadOutlined />}\n                        onClick={() => executeUpload(channelId, 'prod')}\n                        style={{ flex: 1, background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', color: 'white', border: 'none' }}\n                      >\n                        🚀 生产环境\n                      </Button>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            ) : (\n              <Alert\n                message=\"未找到渠道配置\"\n                description=\"请先配置项目的渠道信息\"\n                type=\"warning\"\n                showIcon\n              />\n            )}\n          </div>\n        )}\n      </Modal>\n\n      {/* 简单上传选项弹窗（无渠道配置的项目） */}\n      <Modal\n        title={`上传到OSS: ${selectedProject}`}\n        open={simpleUploadModalVisible}\n        onCancel={() => setSimpleUploadModalVisible(false)}\n        footer={null}\n        width={500}\n      >\n        {ossLoading ? (\n          <div style={{ textAlign: 'center', padding: '20px' }}>\n            <LoadingOutlined style={{ fontSize: '24px' }} />\n            <div style={{ marginTop: '10px' }}>正在加载OSS配置...</div>\n          </div>\n        ) : ossConfig ? (\n          <div>\n            <div style={{ marginBottom: '20px' }}>\n              <Text strong>上传选项:</Text>\n            </div>\n            <div style={{ marginBottom: '20px' }}>\n              <Checkbox\n                checked={uploadAsZip}\n                onChange={(e) => setUploadAsZip(e.target.checked)}\n              >\n                📦 上传为压缩包 (单个ZIP文件)\n              </Checkbox>\n              <div style={{ fontSize: '12px', color: '#666', marginTop: '4px' }}>\n                {uploadAsZip ? '将整个build目录压缩成ZIP文件后上传' : '逐个上传build目录中的所有文件'}\n              </div>\n            </div>\n            <div style={{ marginBottom: '20px' }}>\n              <Text strong>选择上传环境:</Text>\n            </div>\n            <div style={{ display: 'flex', gap: '12px', flexDirection: 'column' }}>\n              {ossConfig.buckets?.dev && (\n                <Card\n                  hoverable\n                  onClick={() => executeSimpleUpload('dev')}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div>\n                      <div style={{ fontWeight: 'bold' }}>📦 开发环境</div>\n                      <div style={{ fontSize: '12px', color: '#666' }}>\n                        Bucket: {typeof ossConfig.buckets.dev === 'string' ? ossConfig.buckets.dev : ossConfig.buckets.dev.name}\n                      </div>\n                    </div>\n                    <CloudUploadOutlined style={{ fontSize: '20px', color: '#1890ff' }} />\n                  </div>\n                </Card>\n              )}\n              {ossConfig.buckets?.prod && (\n                <Card\n                  hoverable\n                  onClick={() => executeSimpleUpload('prod')}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div>\n                      <div style={{ fontWeight: 'bold' }}>🚀 生产环境</div>\n                      <div style={{ fontSize: '12px', color: '#666' }}>\n                        Bucket: {Array.isArray(ossConfig.buckets.prod)\n                          ? ossConfig.buckets.prod.map((b: any) => b.name || b).join(' + ')\n                          : (typeof ossConfig.buckets.prod === 'string' ? ossConfig.buckets.prod : ossConfig.buckets.prod.name)\n                        }\n                      </div>\n                    </div>\n                    <CloudUploadOutlined style={{ fontSize: '20px', color: '#1890ff' }} />\n                  </div>\n                </Card>\n              )}\n            </div>\n            {!ossConfig.buckets?.dev && !ossConfig.buckets?.prod && (\n              <Alert\n                message=\"未找到bucket配置\"\n                description=\"请先在oss-connection-config.json中配置项目的bucket信息\"\n                type=\"warning\"\n                showIcon\n              />\n            )}\n          </div>\n        ) : (\n          <Alert\n            message=\"未找到OSS配置\"\n            description=\"请先在oss-connection-config.json中配置项目信息\"\n            type=\"warning\"\n            showIcon\n          />\n        )}\n      </Modal>\n\n      {/* 进度显示弹窗 */}\n      <Modal\n        title={progressTitle}\n        open={progressModalVisible}\n        footer={null}\n        closable={false}\n        width={700}\n      >\n        <div style={{ padding: '20px' }}>\n          <div style={{ textAlign: 'center', marginBottom: '20px' }}>\n            {currentOperation === 'upload' && (\n              <Progress\n                type=\"circle\"\n                percent={progressPercent}\n                status={progressText.includes('失败') ? 'exception' : progressText.includes('成功') ? 'success' : 'active'}\n                style={{ marginBottom: '10px' }}\n              />\n            )}\n            <div style={{ fontSize: '16px', fontWeight: 'bold' }}>{progressText}</div>\n          </div>\n\n          {progressLogs.length > 0 && (\n            <div\n              ref={logsRef}\n              style={{\n                maxHeight: '300px',\n                overflowY: 'auto',\n                background: '#1e1e1e',\n                color: '#00ff00',\n                padding: '15px',\n                borderRadius: '8px',\n                fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", monospace',\n                fontSize: '12px',\n                whiteSpace: 'pre-wrap'\n              }}\n            >\n              {progressLogs.map((log, index) => (\n                <div key={index} style={{ marginBottom: '4px' }}>\n                  {log}\n                </div>\n              ))}\n              {Array.from(fileUploadStatus.entries()).map(([fileName, status]) => (\n                <div\n                  key={fileName}\n                  style={{\n                    marginBottom: '4px',\n                    color: status.status === 'uploading' ? '#ffa500' : // 橙色：正在上传\n                           status.status === 'uploaded' ? '#00ff00' : // 绿色：上传成功\n                           '#ff4444' // 红色：上传失败\n                  }}\n                >\n                  {fileName}: {status.message}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Projects;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}